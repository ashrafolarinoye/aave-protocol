(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{79642:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return lt},default:function(){return dt}});var n,a=r(59499),s=r(49501),o=r(62097),i=r(61225),c=r(29630),l=r(79072),d=r(67294),u=r(34637),p=r(59379),x=r(8195),h=r(31959),v=r(6022),g=r(80854),f=r(55343),j=r(82334),m=r(19485),b=r(56371),y=r(58527),w=r(29946),O=r(50029),Z=r(17674),P=r(87794),k=r.n(P),A=r(58450),D=r(1279),C=r(77537),T=r(45626),S=r(84950),E=r(40481),I=r(46930),N=r(85893),V=d.createContext({}),R=function(e){var t=e.children,r=(0,I.f)(),n=r.currentNetworkConfig,a=r.jsonRpcProvider,s=r.currentChainId,o=(0,C.Z)().currentAccount,i=d.useState({aave:"0",aAave:"0",stkAave:"0"}),c=(0,Z.Z)(i,2),l=c[0],u=c[1],p=d.useState(!1),x=(0,Z.Z)(p,2),h=x[0],v=x[1],g=n.isFork&&n.underlyingChainId===T.d.chainId?a():(0,S.VH)(T.d.chainId),f=function(){var e=(0,O.Z)(k().mark((function e(){var t,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,t=new A.P({walletBalanceProviderAddress:T.d.walletBalanceProvider,provider:g}),e.next=5,t.batchBalanceOf([o],[T.d.aaveTokenAddress,T.d.aAaveTokenAddress,T.d.stkAaveTokenAddress]);case 5:r=e.sent,u({aave:(0,D.Fv)(r[0].toString(),18),aAave:(0,D.Fv)(r[1].toString(),18),stkAave:(0,D.Fv)(r[2].toString(),18)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return(0,E.W)(f,6e4,!o||!T.d,[o,s]),(0,N.jsx)(V.Provider,{value:{aaveTokens:l,loading:h},children:t})},_=function(){return(0,d.useContext)(V)},F=r(84953),G=r(63491),B=r(67916),M=r(93608),W=r(78944),L=r(93269),H=r(10343),X=r(30120),Y=r(31944),U=r(22841),z=r(8519),Q=r(41024),q=r(92391),J=r(2180),K=function(e){var t,r,n,a,s=e.delegationTokens,o=e.setDelegationToken,i=e.delegationTokenAddress,l=e.delegationType,u=e.filter,p=s.filter((function(e){return""!==e.votingDelegatee})),x=s.filter((function(e){return""!==e.propositionDelegatee})),h=s.filter((function(e){return""!==e.propositionDelegatee||""!==e.votingDelegatee})),v=u&&l===w.c.VOTING&&1===p.length,g=u&&l===w.c.PROPOSITION_POWER&&1===x.length,j=u&&l===w.c.BOTH&&1===h.length,m=null===(t=p[0])||void 0===t?void 0:t.address,b=null===(r=x[0])||void 0===r?void 0:r.address,y=null===(n=h[0])||void 0===n?void 0:n.address,O=null===(a=s[0])||void 0===a?void 0:a.address;return(0,d.useEffect)((function(){o(v?m:g?b:j?y:O)}),[o,g,v,j,b,m,y,O]),v?(0,N.jsx)(q.X,{sx:{alignItems:"center",width:"100%"},caption:(0,N.jsxs)(X.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,N.jsx)(J.T1,{symbol:p[0].symbol,sx:{width:16,height:16}}),(0,N.jsx)(c.Z,{variant:"subheader1",children:p[0].symbol})]}),children:(0,N.jsx)(Q.B,{variant:"secondary14",color:"text.secondary",value:p[0].amount})}):g?(0,N.jsx)(q.X,{sx:{alignItems:"center",width:"100%"},caption:(0,N.jsxs)(X.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,N.jsx)(J.T1,{symbol:x[0].symbol,sx:{width:16,height:16}}),(0,N.jsx)(c.Z,{variant:"subheader1",children:x[0].symbol})]}),children:(0,N.jsx)(Q.B,{variant:"secondary14",color:"text.secondary",value:x[0].amount})}):j?(0,N.jsx)(q.X,{sx:{alignItems:"center",width:"100%"},caption:(0,N.jsxs)(X.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,N.jsx)(J.T1,{symbol:h[0].symbol,sx:{width:16,height:16}}),(0,N.jsx)(c.Z,{variant:"subheader1",children:h[0].symbol})]}),children:(0,N.jsx)(Q.B,{variant:"secondary14",color:"text.secondary",value:h[0].amount})}):(0,N.jsx)(f.Z,{variant:"standard",fullWidth:!0,sx:{mb:6},children:(0,N.jsx)(Y.Z,{value:i,onChange:function(e){return o(e.target.value)},children:s.map((function(e){return(0,N.jsx)(U.Z,{value:e.address,control:(0,N.jsx)(z.Z,{size:"small"}),componentsProps:{typography:{width:"100%"}},label:(0,N.jsx)(q.X,{"data-cy":"delegate-token-".concat(e.symbol),sx:{alignItems:"center",width:"100%"},caption:(0,N.jsxs)(X.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,N.jsx)(J.T1,{symbol:e.symbol,sx:{width:16,height:16}}),(0,N.jsx)(c.Z,{variant:"subheader1",children:e.symbol})]}),children:(0,N.jsx)(Q.B,{variant:"secondary14",color:"text.secondary",value:e.amount})})},e.address)}))})})},$=function(e){var t=e.delegationType,r=e.setDelegationType;return(0,d.useEffect)((function(){r(w.c.BOTH)}),[r]),(0,N.jsxs)(p.Z,{color:"primary",value:t,exclusive:!0,onChange:function(e,t){return r(t)},sx:{width:"100%",height:"36px",p:"2px"},children:[(0,N.jsx)(u.Z,{value:w.c.BOTH,disabled:t===w.c.BOTH,children:(0,N.jsx)(c.Z,{variant:"subheader1",sx:{mr:1},children:(0,N.jsx)(s.cC,{id:"Both"})})}),(0,N.jsx)(u.Z,{value:w.c.VOTING,disabled:t===w.c.VOTING,children:(0,N.jsx)(c.Z,{variant:"subheader1",sx:{mr:1},children:(0,N.jsx)(s.cC,{id:"Voting"})})}),(0,N.jsx)(u.Z,{value:w.c.PROPOSITION_POWER,disabled:t===w.c.PROPOSITION_POWER,children:(0,N.jsx)(c.Z,{variant:"subheader1",sx:{mr:1},children:(0,N.jsx)(s.cC,{id:"Proposition"})})})]})},ee=r(89291),te=r(67489),re=function(e){var t=e.isWrongNetwork,r=e.blocked,n=e.delegationType,a=e.delegationToken,s=e.delegate,o=e.actionText,i=e.actionInProgressText,c=(0,F.Yh)((function(e){return e.delegateByType})),l=(0,F.Yh)((function(e){return e.delegate})),d=(0,ee.Q)({tryPermit:!1,handleGetTxns:function(){var e=(0,O.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==w.c.BOTH){e.next=2;break}return e.abrupt("return",l({delegatee:s,governanceToken:a.address}));case 2:return e.abrupt("return",c({delegatee:s,delegationType:n,governanceToken:a.address}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:r||!(null!==a&&void 0!==a&&a.address),deps:[s,n,null===a||void 0===a?void 0:a.address]}),u=d.action,p=d.loadingTxns,x=d.mainTxState,h=d.requiresApproval;return(0,N.jsx)(te.B,{requiresApproval:h,blocked:r,preparingTransactions:p,mainTxState:x,isWrongNetwork:t,handleAction:u,actionText:o,actionInProgressText:i})};!function(e){e[e.NOT_ENOUGH_BALANCE=0]="NOT_ENOUGH_BALANCE",e[e.NOT_AN_ADDRESS=1]="NOT_AN_ADDRESS"}(n||(n={}));var ne=function(e){var t=e.type,r=(0,C.Z)(),a=r.chainId,o=r.readOnlyModeAddress,i=r.currentAccount,l=_().aaveTokens,u=l.aave,p=l.stkAave,h=(0,x.vR)(),O=h.gasLimit,Z=h.mainTxState,P=h.txError,k=(0,I.f)(),A=k.currentNetworkConfig,D=k.currentChainId,E=(0,F.Yh)((function(e){return e.powers})),V=(0,F.Yh)((function(e){return e.refreshGovernanceData})),R=(0,d.useState)(""),X=R[0],Y=R[1],U=(0,d.useState)(w.c.VOTING),z=U[0],Q=U[1],q=(0,d.useState)(""),J=q[0],ee=q[1],te=t===x.w8.RevokeGovDelegation,ne=te&&!!E&&(""===E.aaveVotingDelegatee&&""===E.stkAaveVotingDelegatee||""===E.aavePropositionDelegatee&&""===E.stkAavePropositionDelegatee);(0,d.useEffect)((function(){ne&&(""===E.aaveVotingDelegatee&&""===E.stkAaveVotingDelegatee?Q(w.c.PROPOSITION_POWER):Q(w.c.VOTING))}),[ne,E]),(0,d.useEffect)((function(){ee(te?i:"")}),[te,ee,i]);var ae=[{address:T.d.stkAaveTokenAddress,symbol:"stkAAVE",name:"Staked AAVE",amount:p,votingDelegatee:null===E||void 0===E?void 0:E.stkAaveVotingDelegatee,propositionDelegatee:null===E||void 0===E?void 0:E.stkAavePropositionDelegatee},{address:T.d.aaveTokenAddress,symbol:"AAVE",name:"AAVE",amount:u,votingDelegatee:null===E||void 0===E?void 0:E.aaveVotingDelegatee,propositionDelegatee:null===E||void 0===E?void 0:E.aavePropositionDelegatee}],se=ae.find((function(e){return e.address===X})),oe=void 0;""===J||m.isAddress(J)||(0,g.Nv)(J)||(oe=n.NOT_AN_ADDRESS);(0,d.useEffect)((function(){Z.success&&V()}),[Z.success,V]);var ie=A.isFork&&A.underlyingChainId===T.d.chainId?D:T.d.chainId,ce=a!==ie,le=(0,S.Mo)(ie);return P&&P.blocking?(0,N.jsx)(G.D,{txError:P}):Z.success?(0,N.jsx)(M.R,{action:(0,N.jsx)(s.cC,{id:"{0}",values:{0:te?"Revoke":"Delegation"}})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(W.E,{title:te?"Revoke power":"Set up delegation"}),ce&&!o&&(0,N.jsx)(H.I,{networkName:le.name,chainId:ie}),te&&!!E&&(""===E.aaveVotingDelegatee&&""===E.stkAaveVotingDelegatee||""===E.aavePropositionDelegatee&&""===E.stkAavePropositionDelegatee)||(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.Z,{variant:"description",color:"text.secondary",sx:{mb:1},children:(0,N.jsx)(s.cC,{id:"{0}",values:{0:te?"Power to revoke":"Power to delegate"}})}),(0,N.jsx)($,{delegationType:z,setDelegationType:Q})]}),te?(0,N.jsx)(c.Z,{variant:"description",color:"text.secondary",sx:{mt:6,mb:2},children:(0,N.jsx)(s.cC,{id:"Balance to revoke"})}):(0,N.jsx)(y.G,{text:"Balance to delegate",variant:"description",textColor:"text.secondary",wrapperProps:{mt:6,mb:2},children:(0,N.jsx)(s.cC,{id:"Choose how much voting/proposition power to give to someone else by delegating some of your AAVE or stkAAVE balance. Your tokens will remain in your account, but your delegate will be able to vote or propose on your behalf. If your AAVE or stkAAVE balance changes, your delegate's voting/proposition power will be automatically adjusted."})}),(0,N.jsx)(K,{setDelegationToken:Y,delegationTokenAddress:X,delegationTokens:ae,delegationType:z,filter:te}),!te&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.Z,{variant:"description",color:"text.secondary",mb:1,children:(0,N.jsx)(s.cC,{id:"Recipient address"})}),(0,N.jsx)(f.Z,{error:void 0!==oe,variant:"standard",fullWidth:!0,children:(0,N.jsx)(j.Z,{variant:"outlined",fullWidth:!0,value:J,onChange:function(e){return ee(e.target.value)},placeholder:v.ag._("Enter ETH address"),error:void 0!==oe,helperText:oe===n.NOT_AN_ADDRESS?(0,N.jsx)(s.cC,{id:"Not a valid address"}):null,"data-cy":"delegationAddress"})})]}),(0,N.jsx)(L.g,{gasLimit:(0,b.parseUnits)(O||"0","wei")}),P&&(0,N.jsx)(B.Q,{txError:P}),(0,N.jsx)(re,{delegationType:z,delegationToken:se,delegate:J,isWrongNetwork:ce,actionText:te?(0,N.jsx)(s.cC,{id:"Revoke"}):(0,N.jsx)(s.cC,{id:"Delegate"}),actionInProgressText:te?(0,N.jsx)(s.cC,{id:"Revoking"}):(0,N.jsx)(s.cC,{id:"Delegating"}),blocked:void 0!==oe||""===J||!z||!se})]})},ae=function(){var e=(0,x.vR)(),t=e.type,r=e.close;return(0,N.jsx)(h.P,{open:t===x.w8.GovDelegation||t===x.w8.RevokeGovDelegation,setOpen:r,children:(0,N.jsx)(ne,{type:t===x.w8.GovDelegation?x.w8.GovDelegation:x.w8.RevokeGovDelegation})})},se=r(77715),oe=r(17667),ie=r(75331),ce=r(56365),le=r(75084),de=r(81645),ue=r(28533),pe=r(68861),xe=r(74815);function he(e){var t=e.text,r=e.href;return(0,N.jsx)(le.Z,{variant:"surface",size:"small",sx:{minWidth:"unset"},component:pe.rU,href:r,target:"_blank",rel:"noopener",children:(0,N.jsxs)(X.Z,{sx:{display:"flex",alignItems:"center"},children:[t,(0,N.jsx)(de.Z,{sx:{ml:1,fontSize:14},children:(0,N.jsx)(ce.Z,{})})]})})}var ve=function(){var e=(0,o.Z)(),t=(0,i.Z)(e.breakpoints.up("lg")),r=(0,i.Z)(e.breakpoints.down("xsm"));return(0,N.jsx)(xe.f,{titleComponent:(0,N.jsxs)(X.Z,{mb:4,children:[(0,N.jsx)(ue.Z,{wrapperSx:{mb:4},chainId:ie.a_.mainnet}),(0,N.jsxs)(X.Z,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,N.jsx)("img",{src:"/aave.svg",width:"32px",height:"32px",alt:""}),(0,N.jsx)(c.Z,{variant:r?"h2":t?"display1":"h1",sx:{ml:2,mr:3},children:(0,N.jsx)(s.cC,{id:"Aave Governance"})})]}),(0,N.jsxs)(c.Z,{sx:{color:"#8E92A3",maxWidth:"824px"},children:[(0,N.jsx)(s.cC,{id:"Aave is a fully decentralized, community governed protocol by the AAVE token-holders. AAVE token-holders collectively discuss, propose, and vote on upgrades to the protocol. AAVE token-holders (Ethereum network only) can either vote themselves on new proposals or delagate to an address of choice. To learn more check out the Governance"})," ",(0,N.jsx)(pe.rU,{href:"https://docs.aave.com/faq/governance",sx:{textDecoration:"underline",color:"#8E92A3"},children:(0,N.jsx)(s.cC,{id:"documentation"})}),"."]})]}),children:(0,N.jsxs)(X.Z,{sx:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap",maxWidth:"sm"},children:[(0,N.jsx)(he,{text:"SNAPSHOTS",href:"https://snapshot.org/#/aave.eth"}),(0,N.jsx)(he,{text:"FORUM",href:"https://governance.aave.com/"}),(0,N.jsx)(he,{text:"FAQ",href:"https://docs.aave.com/faq/governance"})]})})},ge=r(4730),fe=r(90116),je=r(62818),me=r(70918),be=r(23149),ye=r(74221),we=r(246),Oe=r.n(we),Ze=r(13850),Pe=r(3483),ke=r(67668),Ae=r(98445),De=r(33181),Ce=r(46541),Te=r(31538),Se=r(8403),Ee=r(28480),Ie=function(e){var t=e.proposalFilter,r=e.handleSearchQueryChange,n=e.handleChange;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.Z,{variant:"h3",sx:{flexGrow:1},children:(0,N.jsx)(s.cC,{id:"Proposals"})}),(0,N.jsx)(c.Z,{children:(0,N.jsx)(s.cC,{id:"Filter"})}),(0,N.jsxs)(Ce.Z,{id:"filter",value:t,sx:{minWidth:140},onChange:n,children:[(0,N.jsx)(Te.Z,{value:"all",children:(0,N.jsx)(s.cC,{id:"All proposals"})}),Object.keys(De.r).map((function(e){return(0,N.jsx)(Te.Z,{value:e,children:e},e)}))]}),(0,N.jsx)(Se.M,{wrapperSx:{width:"280px"},placeholder:"Search proposals",onSearchTermChange:r})]})},Ne=function(e){var t=e.proposalFilter,r=e.handleChange,n=e.handleSearchQueryChange;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(Ee._,{title:(0,N.jsx)(s.cC,{id:"Proposals"}),titleProps:{variant:"h3"},onSearchTermChange:n,searchPlaceholder:"Search proposals"}),(0,N.jsxs)(X.Z,{sx:{display:"flex",alignItems:"center",gap:4},children:[(0,N.jsx)(c.Z,{children:(0,N.jsx)(s.cC,{id:"Filter"})}),(0,N.jsxs)(Ce.Z,{id:"filter",value:t,sx:{minWidth:140},onChange:r,children:[(0,N.jsx)(Te.Z,{value:"all",children:(0,N.jsx)(s.cC,{id:"All proposals"})}),Object.keys(De.r).map((function(e){return(0,N.jsx)(Te.Z,{value:e,children:e},e)}))]})]})]})},Ve=function(e){var t=e.proposalFilter,r=e.handleProposalFilterChange,n=e.handleSearchQueryChange,a=function(e){r(e.target.value)},s=(0,o.Z)().breakpoints,c=(0,i.Z)(s.up("md"));return(0,N.jsx)(X.Z,{sx:{px:6,py:4,display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},gap:3,borderBottom:"1px solid",borderColor:"divider"},children:c?(0,N.jsx)(Ie,{proposalFilter:t,handleChange:a,handleSearchQueryChange:n}):(0,N.jsx)(Ne,{proposalFilter:t,handleChange:a,handleSearchQueryChange:n})})},Re=r(21628),_e=r(14832),Fe=r(5063),Ge=r(88622),Be=r(19201),Me=r(74663);function We(e){var t=e.proposal,r=e.prerendered,n=e.ipfs,a=(0,Be.J)(t),i=a.nayPercent,l=a.yaePercent,d=a.nayVotes,u=a.yaeVotes,p=a.quorumReached,x=a.diffReached,h=(0,o.Z)().palette,v=r&&!(0,Ae.u)(t);return(0,N.jsxs)(X.Z,{sx:{px:6,py:8,display:"flex",flexWrap:"wrap",borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},component:pe.rU,href:r?pe.Z6.prerenderedProposal(t.id):pe.Z6.dynamicRenderedProposal(t.id),children:[(0,N.jsxs)(X.Z,{sx:{width:{xs:"100%",lg:"70%"},display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,N.jsx)(c.Z,{variant:"h3",gutterBottom:!0,sx:{overflow:"hidden",textOverflow:"ellipsis"},children:n.title}),(0,N.jsxs)(X.Z,{sx:{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap"},children:[(0,N.jsx)(Ge.U,{state:t.state,loading:v}),(0,N.jsx)(Fe.G,{state:t.state,startTimestamp:t.startTimestamp,executionTime:t.executionTime,expirationTimestamp:t.expirationTimestamp,executionTimeWithGracePeriod:t.executionTimeWithGracePeriod}),(0,N.jsx)(_e.o,{text:(0,N.jsx)(s.cC,{id:"Quorum"}),checked:p,loading:v}),(0,N.jsx)(_e.o,{text:(0,N.jsx)(s.cC,{id:"Differential"}),checked:x,loading:v}),t.executor===je.AaveGovernanceV2.LONG_EXECUTOR?(0,N.jsxs)(X.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,N.jsx)(c.Z,{variant:"subheader2",component:"span",sx:{mr:1},children:"Long Executor"}),(0,N.jsx)(Re.Z,{color:p?h.success.main:h.warning.main,height:"16"})]}):null]})]}),(0,N.jsxs)(X.Z,{sx:{flexGrow:1,pl:{xs:0,lg:4},mt:{xs:7,lg:0}},children:[(0,N.jsx)(Me.A,{yae:!0,percent:l,votes:u,sx:{mb:4},loading:v}),(0,N.jsx)(Me.A,{percent:i,votes:d,loading:v})]})]})}var Le=["values"],He=["values"];function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ue(e){var t=e.proposals,r=(0,d.useState)(!0),n=r[0],a=r[1],s=(0,d.useState)(!0),o=s[0],i=s[1],c=(0,d.useState)(t),l=c[0],u=c[1],p=(0,d.useState)("all"),x=p[0],h=p[1],v=(0,d.useState)(""),g=v[0],f=v[1],j=(0,d.useState)(1),m=j[0],b=j[1],y=(0,d.useRef)(new ye.Z(t,{keys:["ipfs.title","ipfs.shortDescription"],threshold:.3}));function w(){return(w=(0,O.Z)(k().mark((function e(){var t,r,n,s,o,i,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.M.getProposalsCount();case 3:if(t=e.sent,r=[],console.log("fetching ".concat(t-l.length," new proposals")),!(t-l.length)){e.next=26;break}n=l.length;case 8:if(!(n<t)){e.next=24;break}return e.next=11,ke.M.getProposal({proposalId:n});case 11:return s=e.sent,s.values,o=(0,ge.Z)(s,Le),e.next=16,(0,Be.r)(o);case 16:return i=e.sent,e.next=19,(0,Pe.m)(i.ipfsHash,T.d.ipfsGateway);case 19:c=e.sent,r.unshift({ipfs:Ye({id:n,originalHash:i.ipfsHash},c),proposal:i,prerendered:!1});case 21:n++,e.next=8;break;case 24:r.map((function(e){return y.current.add(e)})),u((function(e){return[].concat(r,(0,fe.Z)(e))}));case 26:a(!1),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log("error fetching new proposals",e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})))).apply(this,arguments)}function Z(){return Z=(0,O.Z)(k().mark((function e(){var t,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.filter((function(e){var t=e.proposal;return!(0,Ae.u)(t)})),e.prev=1,!t.length){e.next=7;break}return e.next=5,Promise.all(t.map(function(){var e=(0,O.Z)(k().mark((function e(t){var r,n,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.proposal,e.next=3,ke.M.getProposal({proposalId:r.id});case 3:return n=e.sent,n.values,a=(0,ge.Z)(n,He),e.abrupt("return",(0,Be.r)(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:r=e.sent,u((function(e){return r.map((function(t){e[e.length-1-t.id].proposal=t,e[e.length-1-t.id].prerendered=!1})),e}));case 7:i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("error updating proposals",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),Z.apply(this,arguments)}(0,E.W)((function(){return w.apply(this,arguments)}),6e4,!1,[l.length]),(0,E.W)((function(){return Z.apply(this,arguments)}),3e4,!1,[l.length]);var P=(0,d.useMemo)((function(){var e=l.filter((function(e){return"all"===x||e.proposal.state===x})).reduce((function(e,t){return"Active"===t.proposal.state&&t.proposal.executor===je.AaveGovernanceV2.LONG_EXECUTOR?[t].concat((0,fe.Z)(e)):[].concat((0,fe.Z)(e),[t])}),[]);return y.current.setCollection(e),e}),[l,x]),A=(0,d.useMemo)((function(){return g?y.current.search(g).map((function(e){return e.item})):P}),[g,P]),D=(0,d.useMemo)((function(){return A.slice(0,10*m)}),[A,m]);return(0,N.jsxs)(me.Z,{children:[(0,N.jsx)(Ve,{proposalFilter:x,handleProposalFilterChange:h,handleSearchQueryChange:function(e){b(1),f(e)}}),(n||o)&&(0,N.jsx)(be.Z,{}),D.length?(0,N.jsx)(Oe(),{pageStart:1,loadMore:function(){b((function(e){return e+1}))},hasMore:D.length<A.length,children:D.map((function(e){var t=e.proposal,r=e.prerendered,n=e.ipfs;return(0,N.jsx)(We,{proposal:t,ipfs:n,prerendered:r},t.id)}))}):(0,N.jsx)(Ze.q,{searchTerm:g})]})}var ze=r(3765),Qe=r(44373),qe=r(18377),Je=r(50116),Ke=r(38589),$e=function(){return(0,F.Yh)((function(e){return e.powers}))},et=function(e){var t=e.user,r=e.aavePower,n=e.stkAavePower,a=e.aaveDelegatee,o=e.stkAaveDelegatee,i=e.title,l=!a||t===a,d=!o||t===o;return l&&d?null:(0,N.jsxs)(qe.Z,{sx:{display:"flex",flexDirection:"column",mt:6,mb:2},children:[(0,N.jsx)(c.Z,{typography:"caption",sx:{mb:5},color:"text.secondary",children:(0,N.jsx)(s.cC,{id:"{title}",values:{title:i}})}),(0,N.jsx)(qe.Z,{sx:{display:"flex",gap:4,flexDirection:"column"},children:a===o?(0,N.jsx)(q.X,{align:"flex-start",caption:(0,N.jsx)(Ke.M,{avatarProps:{size:Je.D.XS},titleProps:{variant:"subheader1"},address:a}),children:(0,N.jsxs)(qe.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,N.jsx)(Q.B,{value:Number(r)+Number(n),variant:"subheader1"}),(0,N.jsx)(c.Z,{variant:"helperText",color:"text.secondary",children:"AAVE + stkAAVE"})]})}):(0,N.jsxs)(N.Fragment,{children:[!l&&(0,N.jsx)(q.X,{align:"flex-start",caption:(0,N.jsx)(Ke.M,{avatarProps:{size:Je.D.XS},titleProps:{variant:"subheader1"},address:a}),children:(0,N.jsxs)(qe.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,N.jsx)(J.T1,{symbol:"AAVE",sx:{width:16,height:16}}),(0,N.jsx)(Q.B,{value:r,variant:"subheader1"})]})}),!d&&(0,N.jsx)(q.X,{align:"flex-start",caption:(0,N.jsx)(Ke.M,{avatarProps:{size:Je.D.XS},titleProps:{variant:"subheader1"},address:o}),children:(0,N.jsxs)(qe.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,N.jsx)(J.T1,{symbol:"stkAAVE",sx:{width:16,height:16}}),(0,N.jsx)(Q.B,{value:n,variant:"subheader1"})]})})]})})]})},tt=function(){var e=$e(),t=_().aaveTokens,r=t.aave,n=t.stkAave,a=(0,F.Yh)((function(e){return e.account})),o=(0,x.vR)(),i=o.openGovDelegation,l=o.openRevokeGovDelegation;if(!e||!a)return null;var d=Number(r)<=0&&Number(n)<=0&&""===e.aavePropositionDelegatee&&""===e.aaveVotingDelegatee&&""===e.stkAavePropositionDelegatee&&""===e.stkAaveVotingDelegatee,u=""!==e.aavePropositionDelegatee||""!==e.aaveVotingDelegatee||""!==e.stkAavePropositionDelegatee||""!==e.stkAaveVotingDelegatee;return(0,N.jsxs)(me.Z,{sx:{mt:2},children:[(0,N.jsxs)(qe.Z,{sx:{px:6,pb:6,pt:4},children:[(0,N.jsx)(c.Z,{typography:"h3",children:(0,N.jsx)(s.cC,{id:"Delegated power"})}),(0,N.jsxs)(c.Z,{typography:"description",sx:{mt:1},color:"text.secondary",children:[(0,N.jsx)(s.cC,{id:"Use your AAVE and stkAAVE balance to delegate your voting and proposition powers. You will not be sending any tokens, only the rights to vote and propose changes to the protocol. You can re-delegate or revoke power to self at any time."}),(0,N.jsx)(pe.rU,{href:"https://docs.aave.com/developers/v/2.0/protocol-governance/governance",target:"_blank",variant:"description",color:"text.secondary",sx:{textDecoration:"underline",ml:1},children:(0,N.jsx)(s.cC,{id:"Learn more."})})]}),d?(0,N.jsx)(c.Z,{variant:"description",color:"text.muted",mt:6,children:(0,N.jsx)(s.cC,{id:"You have no AAVE/stkAAVE balance to delegate."})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(et,{aavePower:r,stkAavePower:n,aaveDelegatee:e.aaveVotingDelegatee,stkAaveDelegatee:e.stkAaveVotingDelegatee,user:a,title:"Voting power"}),(0,N.jsx)(et,{aavePower:r,stkAavePower:n,aaveDelegatee:e.aavePropositionDelegatee,stkAaveDelegatee:e.stkAavePropositionDelegatee,user:a,title:"Proposition power"})]})]}),(0,N.jsx)(Qe.Z,{}),(0,N.jsxs)(qe.Z,{sx:{p:6,display:"flex",flexDirection:"column",gap:2},children:[(0,N.jsx)(le.Z,{size:"large",sx:{width:"100%"},variant:"contained",disabled:d,onClick:function(){return i()},children:(0,N.jsx)(s.cC,{id:"Set up delegation"})}),u&&(0,N.jsx)(le.Z,{size:"large",sx:{width:"100%"},variant:"outlined",disabled:d,onClick:function(){return l()},children:(0,N.jsx)(s.cC,{id:"Revoke power"})})]})]})},rt=r(35672);function nt(){var e=(0,C.Z)().currentAccount,t=$e();return(0,N.jsxs)(me.Z,{sx:{px:6,pb:6,pt:4},children:[(0,N.jsx)(c.Z,{variant:"h3",sx:{height:"36px",display:"flex",alignItems:"center",mb:4},children:(0,N.jsx)(s.cC,{id:"Your info"})}),(0,N.jsx)(Ke.H,{withLink:!0,avatarProps:{size:Je.D.LG},titleProps:{variant:"h4",addressCompactMode:rt._.MD},subtitleProps:{variant:"caption",addressCompactMode:rt._.XXL,color:"text.secondary"}}),e&&(0,N.jsxs)(X.Z,{sx:{display:"flex",mt:6},children:[(0,N.jsxs)(X.Z,{sx:{display:"flex",flexDirection:"column",mr:"25%"},children:[(0,N.jsx)(y.G,{text:"Voting power",variant:"description",textColor:"text.secondary",children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.Z,{variant:"subheader2",children:(0,N.jsx)(s.cC,{id:"Your voting power is based on your AAVE/stkAAVE balance and received delegations."})}),(0,N.jsx)(c.Z,{variant:"subheader2",mt:4,children:(0,N.jsx)(s.cC,{id:"Use it to vote for or against active proposals."})})]})}),(0,N.jsx)(Q.B,{"data-cy":"voting-power",value:(null===t||void 0===t?void 0:t.votingPower)||0,variant:"h2",visibleDecimals:2})]}),(0,N.jsxs)(X.Z,{children:[(0,N.jsx)(y.G,{text:"Proposition power",variant:"description",textColor:"text.secondary",children:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.Z,{variant:"subheader2",children:(0,N.jsx)(s.cC,{id:"Your proposition power is based on your AAVE/stkAAVE balance and received delegations."})}),(0,N.jsx)(c.Z,{variant:"subheader2",mt:4,children:(0,N.jsx)(s.cC,{id:"To submit a proposal for minor changes to the protocol, you'll need at least 80.00K power. If you want to change the core code base, you'll need 320k power.<0>Learn more.</0>",components:{0:(0,N.jsx)(pe.rU,{href:"https://docs.aave.com/developers/v/2.0/protocol-governance/governance",target:"_blank",variant:"description",sx:{textDecoration:"underline",ml:1}})}})})]})}),(0,N.jsx)(Q.B,{"data-cy":"proposition-power",value:(null===t||void 0===t?void 0:t.propositionPower)||0,variant:"h2",visibleDecimals:2})]})]})]})}var at,st=function(){return(0,F.Yh)((function(e){return e.account}))?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(nt,{}),(0,N.jsx)(tt,{})]}):(0,N.jsxs)(me.Z,{sx:{p:6},children:[(0,N.jsx)(c.Z,{variant:"h3",sx:{mb:{xs:6,xsm:10}},children:(0,N.jsx)(s.cC,{id:"Your info"})}),(0,N.jsx)(c.Z,{sx:{mb:6},color:"text.secondary",children:(0,N.jsx)(s.cC,{id:"Please connect a wallet to view your personal information here."})}),(0,N.jsx)(ze.p,{})]})},ot=r(15446);function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.PROPOSALS=0]="PROPOSALS",e[e.INFORMATION=1]="INFORMATION"}(at||(at={}));var lt=!0;function dt(e){var t=(0,o.Z)().breakpoints,r=(0,i.Z)(t.down("lg")),n=(0,d.useState)(at.PROPOSALS),a=n[0],x=n[1];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ve,{}),(0,N.jsxs)(ot.O,{children:[(0,N.jsxs)(p.Z,{color:"primary",value:a,exclusive:!0,onChange:function(e,t){return x(t)},sx:{width:{xs:"100%",xsm:"359px"},height:"44px",mb:4,display:{xs:"flex",lg:"none"}},children:[(0,N.jsx)(u.Z,{value:at.PROPOSALS,disabled:a===at.PROPOSALS,children:(0,N.jsx)(c.Z,{variant:"subheader1",children:(0,N.jsx)(s.cC,{id:"Proposals"})})}),(0,N.jsx)(u.Z,{value:at.INFORMATION,disabled:a===at.INFORMATION,children:(0,N.jsx)(c.Z,{variant:"subheader1",children:(0,N.jsx)(s.cC,{id:"Your info"})})})]}),r?a===at.PROPOSALS?(0,N.jsx)(Ue,ct({},e)):(0,N.jsx)(st,{}):(0,N.jsxs)(l.ZP,{container:!0,spacing:4,children:[(0,N.jsx)(l.ZP,{item:!0,md:8,children:(0,N.jsx)(Ue,ct({},e))}),(0,N.jsx)(l.ZP,{item:!0,md:4,children:(0,N.jsx)(st,{})})]})]})]})}dt.getLayout=function(e){return(0,N.jsxs)(oe.Z,{children:[(0,N.jsx)(se.C,{}),(0,N.jsxs)(R,{children:[e,(0,N.jsx)(ae,{})]})]})}},28533:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(59499),a=r(49501),s=r(75331),o=r(30120),i=r(29630),c=r(91555),l=r(85893);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e,t){return e===s.a_.mainnet?"Ethereum Mainnet":t.name},x=function(e){var t=e.chainId,r=e.wrapperSx,n=c.m[t];return(0,l.jsxs)(o.Z,{sx:u({display:"flex",alignItems:"center"},r),children:[(0,l.jsx)(i.Z,{variant:"subheader2",sx:{mr:2,color:"#C0CBF6"},children:(0,l.jsx)(a.cC,{id:"Available on"})}),(0,l.jsx)(o.Z,{sx:{height:16,width:16},children:(0,l.jsx)("img",{src:n.networkLogoPath,height:"100%",width:"100%",alt:"Ethereum Mainnet"})}),(0,l.jsx)(i.Z,{variant:"subheader2",sx:{ml:1,color:"#C0CBF6"},children:p(t,n)})]})}},13850:function(e,t,r){"use strict";r.d(t,{q:function(){return d}});var n=r(49501),a=r(6022),s=r(62097),o=r(61225),i=r(30120),c=r(29630),l=r(85893),d=function(e){var t=e.searchTerm,r=e.subtitle,d=(0,s.Z)().breakpoints,u=(0,o.Z)(d.down("sm"));return(0,l.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,pt:15,pb:32,px:4},children:[u?(0,l.jsxs)(i.Z,{sx:{textAlign:"center",maxWidth:"300px"},children:[(0,l.jsx)(c.Z,{variant:"h2",children:a.ag._("No search results{0}",{0:t&&" for"})}),t&&(0,l.jsxs)(c.Z,{sx:{overflowWrap:"anywhere"},variant:"h2",children:["'",t,"'"]})]}):(0,l.jsx)(c.Z,{sx:{textAlign:"center",maxWidth:"480px",overflowWrap:"anywhere"},variant:"h2",children:a.ag._("No search results{0}",{0:t&&" for '".concat(t,"'")})}),r&&(0,l.jsx)(c.Z,{sx:{width:"280px",textAlign:"center"},variant:"description",color:"text.secondary",children:(0,l.jsx)(n.cC,{id:"{subtitle}",values:{subtitle:r}})})]})}},8403:function(e,t,r){"use strict";r.d(t,{M:function(){return g}});var n=r(59499),a=r(53737),s=r(33740),o=r(62097),i=r(61225),c=r(30120),l=r(81011),d=r(80562),u=r(23279),p=r.n(u),x=r(67294),h=r(85893);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g=function(e){var t=e.onSearchTermChange,r=e.wrapperSx,u=e.placeholder,g=(0,x.useRef)(null),f=(0,x.useState)(""),j=f[0],m=f[1],b=(0,o.Z)().breakpoints,y=(0,i.Z)(b.down("sm")),w=(0,x.useMemo)((function(){return p()((function(e){t(e)}),300)}),[t]);return(0,h.jsxs)(c.Z,{sx:function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"flex",alignItems:"center",gap:2,border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",height:"36px"},r)},children:[(0,h.jsx)(c.Z,{sx:{ml:2,mt:1},children:(0,h.jsx)(a.Z,{height:16})}),(0,h.jsx)(l.ZP,{autoFocus:y,inputRef:g,sx:{width:"100%",fontSize:{xs:16,sm:14}},placeholder:u,value:j,onChange:function(e){m(e.target.value),w(e.target.value)}}),(0,h.jsx)(d.Z,{sx:{p:0,mr:2,visibility:j?"visible":"hidden"},onClick:function(){return function(){var e;m(""),t(""),null===(e=g.current)||void 0===e||e.focus()}()},children:(0,h.jsx)(s.Z,{height:16})})]})}},28480:function(e,t,r){"use strict";r.d(t,{_:function(){return j}});var n=r(59499),a=r(49501),s=r(69743),o=r(62097),i=r(61225),c=r(30120),l=r(29630),d=r(80562),u=r(81645),p=r(75084),x=r(67294),h=r(8403),v=r(85893);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(e){var t=e.onSearchTermChange,r=e.searchPlaceholder,n=e.titleProps,g=e.title,j=(0,x.useState)(!1),m=j[0],b=j[1],y=(0,o.Z)().breakpoints,w=(0,i.Z)(y.down("sm")),O=w&&!m,Z=!w||!m;return(0,v.jsxs)(c.Z,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Z&&(0,v.jsx)(l.Z,f(f({component:"div",variant:"h2",sx:{mr:4}},n),{},{children:g})),(0,v.jsxs)(c.Z,{sx:{height:"40px",width:m&&w?"100%":"unset",position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[O&&(0,v.jsx)(d.Z,{onClick:function(){return b(!0)},children:(0,v.jsx)(u.Z,{children:(0,v.jsx)(s.Z,{})})}),(m||!w)&&(0,v.jsxs)(c.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)(h.M,{wrapperSx:{width:{xs:"100%",sm:"340px"}},placeholder:r,onSearchTermChange:t}),w&&(0,v.jsx)(p.Z,{sx:{ml:2},onClick:function(){return b(!1),void t("")},children:(0,v.jsx)(l.Z,{variant:"buttonM",children:(0,v.jsx)(a.cC,{id:"Cancel"})})})]})]})]})}},3483:function(e,t,r){"use strict";r.d(t,{m:function(){return j}});var n=r(59499),a=r(50029),s=r(87794),o=r.n(s),i=r(56371),c=r(9675),l=r.n(c),d=r(63144),u=r.n(d),p=r(45626),x=r(48764).Buffer;function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g={};function f(e,t){return"".concat(t,"/").concat(e)}function j(e,t){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(t,r);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),console.groupCollapsed("Fetching proposal metadata from IPFS..."),console.info("failed with",r),r!==p.d.ipfsGateway){e.next=15;break}return console.info("retrying with",p.d.fallbackIpfsGateway),console.error(e.t0),console.groupEnd(),e.abrupt("return",j(t,p.d.fallbackIpfsGateway));case 15:throw console.info("exiting"),console.error(e.t0),console.groupEnd(),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function b(e,t){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)(o().mark((function e(t,r){var n,a,s,c,d,p,h,j,m,b,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.startsWith("0x")?i.base58.encode(x.from("1220".concat(t.slice(2)),"hex")):t,!g[n]){e.next=3;break}return e.abrupt("return",g[n]);case 3:return e.next=5,u()(f(n,r));case 5:if((a=e.sent).ok){e.next=8;break}throw Error("Fetch not working");case 8:return e.next=10,a.clone();case 10:return s=e.sent,e.prev=11,e.next=14,a.json();case 14:c=e.sent,d=l()(c.description),p=d.content,h=d.data,g[n]=v(v({},c),{},{ipfsHash:n,description:p},h),e.next=26;break;case 19:return e.prev=19,e.t0=e.catch(11),e.next=23,s.text();case 23:j=e.sent,m=l()(j),b=m.content,y=m.data,g[n]=v(v({},y),{},{ipfsHash:n,description:b});case 26:return e.abrupt("return",g[n]);case 27:case"end":return e.stop()}}),e,null,[[11,19]])})))).apply(this,arguments)}},2554:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/governance",function(){return r(79642)}])},33596:function(){}},function(e){e.O(0,[146,249,72,675,746,986,793,774,888,179],(function(){return t=2554,e(e.s=t);var t}));var t=e.O();_N_E=t}]);