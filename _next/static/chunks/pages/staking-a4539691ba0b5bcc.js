(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{833:function(e,t,n){"use strict";n.r(t),n.d(t,{BigNumber:function(){return r.O$},formatFixed:function(){return o.S5},FixedFormat:function(){return o.xO},FixedNumber:function(){return o.xs},parseFixed:function(){return o.Ox},_base16To36:function(){return r.t2},_base36To16:function(){return r.g$}});var r=n(2593),o=n(20335)},78435:function(e,t,n){"use strict";n.r(t),n.d(t,{logger:function(){return r.k},Wordlist:function(){return r.D},wordlists:function(){return o.E}});var r=n(48812),o=n(10234)},9144:function(e,t,n){"use strict";var r=n(1048),o=n(32793),i=n(67294),s=n(95408),a=n(98700),c=n(39707),l=n(59766),d=n(81719),u=n(78884),x=n(85893);const p=["component","direction","spacing","divider","children"];function m(e,t){const n=i.Children.toArray(e).filter(Boolean);return n.reduce(((e,r,o)=>(e.push(r),o<n.length-1&&e.push(i.cloneElement(t,{key:`separator-${o}`})),e)),[])}const v=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((({ownerState:e,theme:t})=>{let n=(0,o.Z)({display:"flex",flexDirection:"column"},(0,s.k9)({theme:t},(0,s.P$)({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const r=(0,a.hB)(t),o=Object.keys(t.breakpoints.values).reduce(((t,n)=>(("object"===typeof e.spacing&&null!=e.spacing[n]||"object"===typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t)),{}),i=(0,s.P$)({values:e.direction,base:o}),c=(0,s.P$)({values:e.spacing,base:o});"object"===typeof i&&Object.keys(i).forEach(((e,t,n)=>{if(!i[e]){const r=t>0?i[n[t-1]]:"column";i[e]=r}}));const d=(t,n)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${o=n?i[n]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,a.NA)(r,t)}};var o};n=(0,l.Z)(n,(0,s.k9)({theme:t},c,d))}return n=(0,s.dt)(t.breakpoints,n),n})),h=i.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiStack"}),i=(0,c.Z)(n),{component:s="div",direction:a="column",spacing:l=0,divider:d,children:h}=i,f=(0,r.Z)(i,p),j={direction:a,spacing:l};return(0,x.jsx)(v,(0,o.Z)({as:s,ownerState:j,ref:t},f,{children:d?m(h,d):h}))}));t.Z=h},39647:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="ethers/5.5.4"},5151:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Wordlist=t.version=t.wordlists=t.utils=t.logger=t.errors=t.constants=t.FixedNumber=t.BigNumber=t.ContractFactory=t.Contract=t.BaseContract=t.providers=t.getDefaultProvider=t.VoidSigner=t.Wallet=t.Signer=void 0;var s=n(64146);Object.defineProperty(t,"BaseContract",{enumerable:!0,get:function(){return s.BaseContract}}),Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return s.Contract}}),Object.defineProperty(t,"ContractFactory",{enumerable:!0,get:function(){return s.ContractFactory}});var a=n(833);Object.defineProperty(t,"BigNumber",{enumerable:!0,get:function(){return a.BigNumber}}),Object.defineProperty(t,"FixedNumber",{enumerable:!0,get:function(){return a.FixedNumber}});var c=n(48088);Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return c.Signer}}),Object.defineProperty(t,"VoidSigner",{enumerable:!0,get:function(){return c.VoidSigner}});var l=n(79911);Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return l.Wallet}});var d=i(n(21815));t.constants=d;var u=i(n(24946));t.providers=u;var x=n(24946);Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return x.getDefaultProvider}});var p=n(78435);Object.defineProperty(t,"Wordlist",{enumerable:!0,get:function(){return p.Wordlist}}),Object.defineProperty(t,"wordlists",{enumerable:!0,get:function(){return p.wordlists}});var m=i(n(56371));t.utils=m;var v=n(1581);Object.defineProperty(t,"errors",{enumerable:!0,get:function(){return v.ErrorCode}});var h=n(39647);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return h.version}});var f=new v.Logger(h.version);t.logger=f},42045:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return tt}});var r=n(17674),o=n(49501),i=n(62097),s=n(61225),a=n(30120),c=n(29630),l=n(79072),d=n(5151),u=n(56371),x=n(67294),p=n(59499),m=n(4730),v=n(70918),h=n(90149),f=n(41024),j=n(2180),b=n(84953),k=n(85893),g=function(e){var t=e.stakedToken,n=e.icon,r=(0,b.Yh)((function(e){return e.stakeGeneralResult})),i="";return"AAVE"==t&&(i=(null===r||void 0===r?void 0:r.aave.stakeApy)||"0"),"ABPT"==t&&(i=(null===r||void 0===r?void 0:r.bpt.stakeApy)||"0"),(0,k.jsxs)(a.Z,{sx:function(e){return{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",borderRadius:"6px",border:"1px solid ".concat(e.palette.divider),p:4,background:e.palette.background.paper,width:"263px",height:"68px",margin:"0 auto",position:"relative","&:after":{content:"''",position:"absolute",bottom:0,left:"0px",width:"calc(100% + 32px)",height:"1px",bgcolor:"transparent"}}},children:[(0,k.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,k.jsx)(j.T1,{symbol:n}),(0,k.jsx)(c.Z,{variant:"subheader1",color:"text.primary",ml:2,children:t})]}),(0,k.jsxs)(a.Z,{sx:{display:"block",width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center"},children:[(0,k.jsx)(c.Z,{variant:"subheader2",color:"text.secondary",children:(0,k.jsx)(o.cC,{id:"Staking APR"})}),(0,k.jsx)(f.B,{value:parseFloat(i||"0")/1e4,percent:!0,variant:"secondary14",color:"text.primary"})]})]})},y=n(3765),w=["loading","description","sx"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=e.loading,n=e.description,r=e.sx,i=(0,m.Z)(e,w);return(0,k.jsx)(v.Z,C(C({},i),{},{sx:C({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,flex:1},r),children:(0,k.jsx)(k.Fragment,{children:t?(0,k.jsx)(h.Z,{}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(c.Z,{variant:"h2",sx:{mb:2},children:(0,k.jsx)(o.cC,{id:"Please, connect your wallet"})}),(0,k.jsx)(c.Z,{sx:{mb:6},color:"text.secondary",children:n||(0,k.jsx)(o.cC,{id:"Please connect your wallet to see your supplies, borrowings, and open positions."})}),(0,k.jsx)(y.p,{}),(0,k.jsxs)(l.ZP,{container:!0,spacing:1,pt:6,sx:{maxWidth:"543px",textAlign:"right"},children:[(0,k.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,k.jsx)(g,{stakedToken:"AAVE",icon:"aave"})}),(0,k.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,k.jsx)(g,{stakedToken:"ABPT",icon:"bpt"})})]})]})})}))},T=n(15446),N=n(34637),P=n(59379),Z=n(8195),E=n(31959),S=n(1279),B=n(46930),D=n(77537),_=n(84568),I=n(84950),U=n(68861),L=n(19952),R=function(){return(0,k.jsxs)(L.v,{severity:"warning",sx:{".MuiAlert-message":{p:0},mb:6},children:[(0,k.jsx)(c.Z,{variant:"subheader1",children:(0,k.jsx)(o.cC,{id:"Cooldown period warning"})}),(0,k.jsx)(c.Z,{variant:"caption",children:(0,k.jsx)(o.cC,{id:"The cooldown period is the time required prior to unstaking your tokens (10 days). You can only withdraw your assets from the Security Module after the cooldown period and within the unstake window.<0>Learn more</0>",components:{0:(0,k.jsx)(U.rU,{href:"https://docs.aave.com/faq/migration-and-staking",fontWeight:500})}})})]})},W=n(94418),F=n(63491),G=n(67916),M=n(93608),V=n(57824),Y=n(78944),H=n(10343),q=n(50029),X=n(87794),$=n.n(X),Q=n(89291),z=n(67489),K=["amountToStake","isWrongNetwork","sx","symbol","blocked","selectedToken"];function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ee,te=function(e){var t=e.amountToStake,n=e.isWrongNetwork,r=e.sx,i=e.symbol,s=e.blocked,a=e.selectedToken,c=(0,m.Z)(e,K),l=(0,b.Yh)((function(e){return e.stake})),d=(0,Q.Q)({tryPermit:!1,handleGetTxns:function(){var e=(0,q.Z)($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l({token:a,amount:t.toString()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:!t||0===parseFloat(t)||s,deps:[t,a]}),u=d.action,x=d.approval,v=d.requiresApproval,h=d.loadingTxns,f=d.approvalTxState,j=d.mainTxState;return(0,k.jsx)(z.B,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({requiresApproval:v,preparingTransactions:h,mainTxState:j,approvalTxState:f,isWrongNetwork:n,amount:t,handleAction:u,handleApproval:function(){return x([{amount:t,underlyingAsset:a}])},symbol:i,requiresAmount:!0,actionText:(0,k.jsx)(o.cC,{id:"Stake"}),actionInProgressText:(0,k.jsx)(o.cC,{id:"Staking"}),sx:r},c))};!function(e){e[e.NOT_ENOUGH_BALANCE=0]="NOT_ENOUGH_BALANCE"}(ee||(ee={}));var ne=function(e){var t=e.stakeAssetName,n=e.icon,i=(0,b.Yh)((function(e){return[e.stakeGeneralResult,e.stakeUserResult]})),s=(0,r.Z)(i,2),a=s[0],l=s[1],d=null===a||void 0===a?void 0:a[t],u=(0,D.Z)(),p=u.chainId,m=u.readOnlyModeAddress,v=(0,Z.vR)(),h=v.gasLimit,f=v.mainTxState,j=v.txError,g=(0,B.f)(),y=g.currentNetworkConfig,w=g.currentChainId,O=(0,x.useState)(""),C=O[0],A=O[1],T=(0,x.useRef)(),N=(0,S.Fv)((null===l||void 0===l?void 0:l[t].underlyingTokenUserBalance)||"0",18),P="-1"===C,E=P?N:C,U=Number(E)*(Number((0,S.Fv)((null===d||void 0===d?void 0:d.stakeTokenPriceEth)||1,18))/Number((0,S.Fv)((null===a||void 0===a?void 0:a.usdPriceEth)||1,18))),L=void 0;(0,S.hE)(E).gt(N)&&(L=ee.NOT_ENOUGH_BALANCE);var q=y.isFork&&y.underlyingChainId===_.X.chainId?w:_.X.chainId,X=p!==q,$=(0,I.Mo)(q);return j&&j.blocking?(0,k.jsx)(F.D,{txError:j}):f.success?(0,k.jsx)(M.R,{action:(0,k.jsx)(o.cC,{id:"Staked"}),amount:T.current,symbol:n}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Y.E,{title:"Stake",symbol:n}),X&&!m&&(0,k.jsx)(H.I,{networkName:$.name,chainId:q}),(0,k.jsx)(R,{}),(0,k.jsx)(W.W,{value:E,onChange:function(e){var t="-1"===e;T.current=t?N:e,A(e)},usdValue:U.toString(),symbol:n,assets:[{balance:N.toString(),symbol:n}],isMaxSelected:P,maxValue:N.toString(),balanceText:(0,k.jsx)(o.cC,{id:"Wallet balance"})}),void 0!==L&&(0,k.jsx)(c.Z,{variant:"helperText",color:"red",children:L===ee.NOT_ENOUGH_BALANCE?(0,k.jsx)(o.cC,{id:"Not enough balance on your wallet"}):null}),(0,k.jsx)(V.m6,{gasLimit:h,children:(0,k.jsx)(V.oD,{description:(0,k.jsx)(o.cC,{id:"Staking APR"}),value:Number((null===d||void 0===d?void 0:d.stakeApy)||"0")/1e4,percent:!0})}),j&&(0,k.jsx)(G.Q,{txError:j}),(0,k.jsx)(te,{sx:{mt:"48px"},amountToStake:E,isWrongNetwork:X,symbol:n,blocked:void 0!==L,selectedToken:t})]})},re=function(){var e=(0,Z.vR)(),t=e.type,n=e.close,r=e.args;return(0,k.jsx)(E.P,{open:t===Z.w8.Stake,setOpen:n,children:(null===r||void 0===r?void 0:r.icon)&&(null===r||void 0===r?void 0:r.stakeAssetName)&&(0,k.jsx)(ne,{icon:r.icon,stakeAssetName:r.stakeAssetName})})},oe=n(52358),ie=n(81645),se=n(22841),ae=n(75158),ce=function(e){return e/60/60/24},le=function(e){return e/60/60},de=n(93269),ue=["isWrongNetwork","sx","blocked","selectedToken"];function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pe,me=function(e){var t=e.isWrongNetwork,n=e.sx,r=e.blocked,i=e.selectedToken,s=(0,m.Z)(e,ue),a=(0,b.Yh)((function(e){return e.cooldown})),c=(0,Q.Q)({tryPermit:!1,handleGetTxns:function(){var e=(0,q.Z)($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a(i));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:r,deps:[]}),l=c.action,d=c.loadingTxns,u=c.mainTxState,x=c.requiresApproval;return(0,k.jsx)(z.B,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({requiresApproval:x,blocked:r,preparingTransactions:d,handleAction:l,actionText:(0,k.jsx)(o.cC,{id:"ACTIVATE COOLDOWN"}),actionInProgressText:(0,k.jsx)(o.cC,{id:"ACTIVATE COOLDOWN"}),mainTxState:u,isWrongNetwork:t,sx:n},s))};!function(e){e[e.NOT_ENOUGH_BALANCE=0]="NOT_ENOUGH_BALANCE",e[e.ALREADY_ON_COOLDOWN=1]="ALREADY_ON_COOLDOWN"}(pe||(pe={}));var ve=function(e){var t=e.stakeAssetName,n=(0,b.Yh)((function(e){return[e.stakeUserResult,e.stakeGeneralResult]})),i=(0,r.Z)(n,2),s=i[0],l=i[1],d=(0,D.Z)(),p=d.chainId,m=d.readOnlyModeAddress,v=(0,Z.vR)(),h=v.gasLimit,f=v.mainTxState,j=v.txError,g=(0,B.f)(),y=g.currentNetworkConfig,w=g.currentChainId,O=(0,x.useState)(!1),C=O[0],A=O[1],T=null===s||void 0===s?void 0:s[t],N=null===l||void 0===l?void 0:l[t],P=Date.now()/1e3,E=(null===N||void 0===N?void 0:N.stakeCooldownSeconds)||0,R=(null===T||void 0===T?void 0:T.userCooldown)||0,W=(null===N||void 0===N?void 0:N.stakeUnstakeWindow)||0,V=P-R<E+W,q=(0,S.hE)(E).dividedBy(E+W).multipliedBy(100).toNumber(),X=(0,S.hE)(W).dividedBy(E+W).multipliedBy(100).toNumber(),$=q<15?15:q>85?85:q,Q=X<15?15:X>85?85:X,z=null===s||void 0===s?void 0:s[t].stakeTokenUserBalance,K=void 0;"0"===z?K=pe.NOT_ENOUGH_BALANCE:V&&(K=pe.ALREADY_ON_COOLDOWN);var J=y.isFork&&y.underlyingChainId===_.X.chainId?w:_.X.chainId,ee=p!==J,te=(0,I.Mo)(J);if(j&&j.blocking)return(0,k.jsx)(F.D,{txError:j});if(f.success)return(0,k.jsx)(M.R,{action:(0,k.jsx)(o.cC,{id:"Stake cooldown activated"})});var ne=function(e){return"".concat(function(e){return ce(e)<1?le(e)<1?function(e){return e/60}(e):le(e):ce(e)}(e)," ").concat(function(e){return ce(e)<1?le(e)<1?"minutes":"hours":"days"}(e))};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Y.E,{title:"Cooldown to unstake"}),ee&&!m&&(0,k.jsx)(H.I,{networkName:te.name,chainId:J}),(0,k.jsxs)(c.Z,{variant:"description",sx:{mb:6},children:[(0,k.jsx)(o.cC,{id:"The cooldown period is {0}. After {1} of cooldown, you will enter unstake window of {2}. You will continue receiving rewards during cooldown and unstake window.",values:{0:ne(E),1:ne(E),2:ne(W)}})," ",(0,k.jsx)(U.rU,{variant:"description",href:"https://docs.aave.com/faq/migration-and-staking",sx:{textDecoration:"underline"},children:(0,k.jsx)(o.cC,{id:"Learn more"})}),"."]}),(0,k.jsxs)(a.Z,{mb:6,children:[(0,k.jsxs)(a.Z,{sx:{width:"".concat(Q,"%"),display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",flexDirection:"column",ml:"auto"},children:[(0,k.jsx)(c.Z,{variant:"helperText",mb:1,children:(0,k.jsx)(o.cC,{id:"You unstake here"})}),(0,k.jsx)(ie.Z,{sx:{fontSize:"13px"},children:(0,k.jsx)(oe.Z,{})})]}),(0,k.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",my:3},children:[(0,k.jsx)(a.Z,{sx:{height:"2px",width:"".concat($,"%"),bgcolor:"error.main",position:"relative","&:after":{content:"''",position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",bgcolor:"error.main",width:"2px",height:"8px",borderRadius:"2px"}}}),(0,k.jsx)(a.Z,{sx:{height:"2px",width:"".concat(Q,"%"),bgcolor:"success.main",position:"relative","&:after, &:before":{content:"''",position:"absolute",top:"50%",transform:"translateY(-50%)",bgcolor:"success.main",width:"2px",height:"8px",borderRadius:"2px"},"&:before":{left:0},"&:after":{right:0}}})]}),(0,k.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,k.jsxs)(a.Z,{children:[(0,k.jsx)(c.Z,{variant:"helperText",mb:1,children:(0,k.jsx)(o.cC,{id:"Cooldown period"})}),(0,k.jsx)(c.Z,{variant:"subheader2",color:"error.main",children:(0,k.jsx)(o.cC,{id:"{0}",values:{0:ne(E)}})})]}),(0,k.jsxs)(a.Z,{sx:{textAlign:"right"},children:[(0,k.jsx)(c.Z,{variant:"helperText",mb:1,children:(0,k.jsx)(o.cC,{id:"Unstake window"})}),(0,k.jsx)(c.Z,{variant:"subheader2",color:"success.main",children:(0,k.jsx)(o.cC,{id:"{0}",values:{0:ne(W)}})})]})]})]}),void 0!==K&&(0,k.jsx)(c.Z,{variant:"helperText",color:"red",children:function(){switch(K){case pe.NOT_ENOUGH_BALANCE:return(0,k.jsx)(o.cC,{id:"Nothing staked"});case pe.ALREADY_ON_COOLDOWN:return(0,k.jsx)(o.cC,{id:"Already on cooldown"});default:return null}}()}),(0,k.jsx)(L.v,{severity:"error",children:(0,k.jsx)(c.Z,{variant:"caption",children:(0,k.jsx)(o.cC,{id:"If you DO NOT unstake within {0} of unstake window, you will need to activate cooldown process again.",values:{0:ne(W)}})})}),(0,k.jsx)(de.g,{gasLimit:(0,u.parseUnits)(h||"0","wei")}),(0,k.jsx)(se.Z,{sx:{mt:12},control:(0,k.jsx)(ae.Z,{checked:C,onClick:function(){return A(!C)},inputProps:{"aria-label":"controlled"},"data-cy":"cooldownAcceptCheckbox"}),label:(0,k.jsx)(o.cC,{id:"I understand how cooldown ({0}) and unstaking ({1}) work",values:{0:ne(E),1:ne(W)}})}),j&&(0,k.jsx)(G.Q,{txError:j}),(0,k.jsx)(me,{sx:{mt:"48px"},isWrongNetwork:ee,blocked:void 0!==K||!C,selectedToken:t})]})},he=function(){var e=(0,Z.vR)(),t=e.type,n=e.close,r=e.args;return(0,k.jsx)(E.P,{open:t===Z.w8.StakeCooldown,setOpen:n,children:(null===r||void 0===r?void 0:r.stakeAssetName)&&(0,k.jsx)(ve,{stakeAssetName:r.stakeAssetName})})},fe=["amountToClaim","isWrongNetwork","sx","symbol","blocked","selectedToken"];function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var be,ke=function(e){var t=e.amountToClaim,n=e.isWrongNetwork,r=e.sx,i=e.symbol,s=e.blocked,a=e.selectedToken,c=(0,m.Z)(e,fe),l=(0,b.Yh)((function(e){return e.claimStakeRewards})),d=(0,Q.Q)({tryPermit:!1,handleGetTxns:function(){var e=(0,q.Z)($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l({token:a,amount:t}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:s,deps:[]}),u=d.action,x=d.loadingTxns,v=d.mainTxState,h=d.requiresApproval;return(0,k.jsx)(z.B,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({requiresApproval:h,blocked:s,preparingTransactions:x,handleAction:u,actionText:(0,k.jsx)(o.cC,{id:"CLAIM {symbol}",values:{symbol:i}}),actionInProgressText:(0,k.jsx)(o.cC,{id:"CLAIMING {symbol}",values:{symbol:i}}),mainTxState:v,isWrongNetwork:n,sx:r},c))};!function(e){e[e.NOT_ENOUGH_BALANCE=0]="NOT_ENOUGH_BALANCE"}(be||(be={}));var ge=function(e){var t=e.stakeAssetName,n=(0,b.Yh)((function(e){return[e.stakeGeneralResult,e.stakeUserResult]})),i=(0,r.Z)(n,2),s=i[0],a=i[1],l=null===s||void 0===s?void 0:s[t],d=(0,D.Z)(),u=d.chainId,x=d.readOnlyModeAddress,p=(0,Z.vR)(),m=p.gasLimit,v=p.mainTxState,h=p.txError,f=(0,B.f)(),j=f.currentNetworkConfig,g=f.currentChainId,y="AAVE",w=(0,S.Fv)((null===a||void 0===a?void 0:a[t].userIncentivesToClaim)||"0",18),O=Number(w)*(Number((0,S.Fv)((null===l||void 0===l?void 0:l.stakeTokenPriceEth)||1,18))/Number((0,S.Fv)((null===s||void 0===s?void 0:s.usdPriceEth)||1,18))),C=void 0;"0"===w&&(C=be.NOT_ENOUGH_BALANCE);var A=j.isFork&&j.underlyingChainId===_.X.chainId?g:_.X.chainId,T=u!==A,N=(0,I.Mo)(A);return h&&h.blocking?(0,k.jsx)(F.D,{txError:h}):v.success?(0,k.jsx)(M.R,{action:(0,k.jsx)(o.cC,{id:"Claimed"}),amount:w,symbol:y}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Y.E,{title:"Claim",symbol:y}),T&&!x&&(0,k.jsx)(H.I,{networkName:N.name,chainId:A}),void 0!==C&&(0,k.jsx)(c.Z,{variant:"helperText",color:"red",children:C===be.NOT_ENOUGH_BALANCE?(0,k.jsx)(o.cC,{id:"No rewards to claim"}):null}),(0,k.jsx)(V.m6,{gasLimit:m,children:(0,k.jsx)(V.XJ,{description:(0,k.jsx)(o.cC,{id:"Amount"}),symbol:y,futureValue:w,futureValueUSD:O.toString()})}),h&&(0,k.jsx)(G.Q,{txError:h}),(0,k.jsx)(ke,{sx:{mt:"48px"},amountToClaim:"-1",isWrongNetwork:T,symbol:y,blocked:void 0!==C,selectedToken:t})]})},ye=function(){var e=(0,Z.vR)(),t=e.type,n=e.close,r=e.args;return(0,k.jsx)(E.P,{open:t===Z.w8.StakeRewardClaim,setOpen:n,children:(null===r||void 0===r?void 0:r.stakeAssetName)&&(0,k.jsx)(ge,{stakeAssetName:r.stakeAssetName})})},we=["amountToUnStake","isWrongNetwork","sx","symbol","blocked","selectedToken"];function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ce,Ae=function(e){var t=e.amountToUnStake,n=e.isWrongNetwork,r=e.sx,i=e.symbol,s=e.blocked,a=e.selectedToken,c=(0,m.Z)(e,we),l=(0,b.Yh)((function(e){return e.redeem})),d=(0,Q.Q)({tryPermit:!1,handleGetTxns:function(){var e=(0,q.Z)($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(a)(t.toString()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:!t||0===parseFloat(t)||s,deps:[t]}),u=d.action,x=d.loadingTxns,v=d.mainTxState,h=d.requiresApproval;return(0,k.jsx)(z.B,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({requiresApproval:h,blocked:s,preparingTransactions:x,handleAction:u,requiresAmount:!0,amount:t,actionText:(0,k.jsx)(o.cC,{id:"UNSTAKE {symbol}",values:{symbol:i}}),actionInProgressText:(0,k.jsx)(o.cC,{id:"UNSTAKING {symbol}",values:{symbol:i}}),mainTxState:v,isWrongNetwork:n,sx:r},c))};!function(e){e[e.NOT_ENOUGH_BALANCE=0]="NOT_ENOUGH_BALANCE"}(Ce||(Ce={}));var Te,Ne=function(e){var t=e.stakeAssetName,n=e.icon,i=(0,b.Yh)((function(e){return[e.stakeGeneralResult,e.stakeUserResult]})),s=(0,r.Z)(i,2),a=s[0],l=s[1],d=null===a||void 0===a?void 0:a[t],p=(0,D.Z)(),m=p.chainId,v=p.readOnlyModeAddress,h=(0,Z.vR)(),f=h.gasLimit,j=h.mainTxState,g=h.txError,y=(0,B.f)(),w=y.currentNetworkConfig,O=y.currentChainId,C=(0,x.useState)(""),A=C[0],T=C[1],N=(0,x.useRef)(),P=(0,S.Fv)((null===l||void 0===l?void 0:l[t].stakeTokenUserBalance)||"0",18),E="-1"===A,U=E?P:A,L=Number(U)*(Number((0,S.Fv)((null===d||void 0===d?void 0:d.stakeTokenPriceEth)||1,18))/Number((0,S.Fv)((null===a||void 0===a?void 0:a.usdPriceEth)||1,18))),R=void 0;(0,S.hE)(U).gt(P)&&(R=Ce.NOT_ENOUGH_BALANCE);var V=w.isFork&&w.underlyingChainId===_.X.chainId?O:_.X.chainId,q=m!==V,X=(0,I.Mo)(V);return g&&g.blocking?(0,k.jsx)(F.D,{txError:g}):j.success?(0,k.jsx)(M.R,{action:(0,k.jsx)(o.cC,{id:"Unstaked"}),amount:N.current,symbol:n}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Y.E,{title:"Unstake",symbol:n}),q&&!v&&(0,k.jsx)(H.I,{networkName:X.name,chainId:V}),(0,k.jsx)(W.W,{value:U,onChange:function(e){var t="-1"===e;N.current=t?P:e,T(e)},usdValue:L.toString(),symbol:n,assets:[{balance:P,symbol:n}],isMaxSelected:E,maxValue:P,balanceText:(0,k.jsx)(o.cC,{id:"Staking balance"})}),void 0!==R&&(0,k.jsx)(c.Z,{variant:"helperText",color:"red",children:R===Ce.NOT_ENOUGH_BALANCE?(0,k.jsx)(o.cC,{id:"Not enough staked balance"}):null}),(0,k.jsx)(de.g,{gasLimit:(0,u.parseUnits)(f||"0","wei")}),g&&(0,k.jsx)(G.Q,{txError:g}),(0,k.jsx)(Ae,{sx:{mt:"48px"},amountToUnStake:U,isWrongNetwork:q,symbol:n,blocked:void 0!==R,selectedToken:t})]})},Pe=function(){var e=(0,Z.vR)(),t=e.type,n=e.close,r=e.args;return(0,k.jsx)(E.P,{open:t===Z.w8.Unstake,setOpen:n,children:(null===r||void 0===r?void 0:r.icon)&&(null===r||void 0===r?void 0:r.stakeAssetName)&&(0,k.jsx)(Ne,{icon:r.icon,stakeAssetName:r.stakeAssetName})})},Ze=n(17667),Ee=n(23608),Se=n(75084),Be=n(41528),De=n(56365),_e=function(e){var t=e.open,n=e.close;return(0,k.jsxs)(E.P,{open:t,setOpen:n,children:[(0,k.jsx)(c.Z,{variant:"h2",children:(0,k.jsx)(o.cC,{id:"Get ABP Token"})}),(0,k.jsx)(c.Z,{sx:{my:6},children:(0,k.jsx)(o.cC,{id:"The Aave Balancer Pool Token (ABPT) is a liquidity pool token. You can receive ABPT by depositing a combination of AAVE + ETH in the Balancer liquidity pool. You can then stake your BPT in the Safety Module to secure the protocol and earn Safety Incentives."})}),(0,k.jsx)(Se.Z,{variant:"outlined",size:"large",endIcon:(0,k.jsx)(ie.Z,{children:(0,k.jsx)(De.Z,{})}),fullWidth:!0,sx:{px:4},href:"https://pools.balancer.exchange/#/pool/0xc697051d1c6296c24ae3bcef39aca743861d9a81/",target:"_blank",rel:"noopener",children:(0,k.jsxs)(a.Z,{sx:{display:"flex",flexGrow:1},children:[(0,k.jsx)(j.T1,{symbol:"BAL",sx:{mr:2}}),(0,k.jsx)(o.cC,{id:"Go to Balancer Pool"})]})})]})},Ie=function(){var e=(0,x.useState)(null),t=e[0],n=e[1],r=Boolean(t);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Be.y,{title:"Get ABP tokens to stake within the Aave Protocol",children:(0,k.jsx)(Se.Z,{variant:"outlined",size:"small",onClick:function(e){n(e.currentTarget)},"data-cy":"getAbp-token",startIcon:(0,k.jsx)(a.Z,{sx:{mr:-1},children:(0,k.jsx)(j.T1,{symbol:"BAL",sx:{fontSize:"14px"}})}),children:(0,k.jsx)(o.cC,{id:"Get ABP Token"})})}),(0,k.jsx)(_e,{open:r,close:function(){n(null)}})]})},Ue=n(75331),Le=n(28533),Re=n(74815);function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}var Fe,Ge=function(e){return x.createElement("svg",We({width:22,height:16,viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),Te||(Te=x.createElement("path",{d:"M3.929 15a9.893 9.893 0 0 1-2.168-3.212 9.813 9.813 0 0 1 0-7.576A9.893 9.893 0 0 1 3.93 1m14.14 0a9.896 9.896 0 0 1 2.168 3.212 9.814 9.814 0 0 1 0 7.576A9.896 9.896 0 0 1 18.07 15m-11-3.112A5.472 5.472 0 0 1 5.445 8c0-1.458.585-2.857 1.626-3.888m7.858 0A5.472 5.472 0 0 1 16.555 8a5.472 5.472 0 0 1-1.626 3.888M12.11 8c0 .292-.117.571-.325.778a1.117 1.117 0 0 1-1.572 0 1.095 1.095 0 0 1 0-1.556 1.117 1.117 0 0 1 1.572 0c.208.206.325.486.325.778Z",stroke:"#A5A8B6",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))};function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}var Ve=function(e){return x.createElement("svg",Me({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),Fe||(Fe=x.createElement("path",{d:"m7.667 11.245 2.222 2.263 4.444-4.525m6.243-4.544A13.14 13.14 0 0 1 11 1a13.14 13.14 0 0 1-9.576 3.44A13.833 13.833 0 0 0 1 7.85C1 14.177 5.249 19.493 11 21c5.751-1.507 10-6.822 10-13.149 0-1.178-.148-2.321-.424-3.412Z",stroke:"#A5A8B6",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))},Ye=n(87369),He=function(e){var t=e.tvl,n=e.stkEmission,r=e.loading,l=(0,i.Z)(),d=(0,s.Z)(l.breakpoints.up("lg")),u=(0,s.Z)(l.breakpoints.down("sm")),x=(0,s.Z)(l.breakpoints.down("xsm")),p=u?"main16":"main21",m=u?"secondary16":"secondary21";return(0,k.jsxs)(Re.f,{titleComponent:(0,k.jsxs)(a.Z,{mb:4,children:[(0,k.jsx)(Le.Z,{wrapperSx:{mb:4},chainId:Ue.a_.mainnet}),(0,k.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,k.jsx)("img",{src:"/aave.svg",width:"32px",height:"32px",alt:""}),(0,k.jsx)(c.Z,{variant:x?"h2":d?"display1":"h1",sx:{ml:2,mr:3},children:(0,k.jsx)(o.cC,{id:"Staking"})})]}),(0,k.jsxs)(c.Z,{sx:{color:"#8E92A3",maxWidth:"824px"},children:[(0,k.jsx)(o.cC,{id:"AAVE holders (Ethereum network only) can stake their AAVE in the Safety Module to add more security to the protocol and earn Safety Incentives. In the case of a shortfall event, up to 30% of your stake can be slashed to cover the deficit, providing an additional layer of protection for the protocol."})," ",(0,k.jsx)(U.rU,{href:"https://docs.aave.com/faq/migration-and-staking",sx:{textDecoration:"underline",color:"#8E92A3"},children:(0,k.jsx)(o.cC,{id:"Learn more about risks involved"})})]})]}),children:[(0,k.jsx)(Ye.d,{icon:(0,k.jsx)(Ve,{}),title:(0,k.jsx)(o.cC,{id:"Funds in the Safety Module"}),loading:r,children:(0,k.jsx)(f.B,{value:t||0,symbol:"USD",variant:p,symbolsVariant:m,symbolsColor:"#A5A8B6",visibleDecimals:2})}),(0,k.jsx)(Ye.d,{icon:(0,k.jsx)(Ge,{}),title:(0,k.jsx)(o.cC,{id:"Total emission per day"}),loading:r,children:(0,k.jsx)(f.B,{value:n||0,symbol:"AAVE",variant:p,symbolsVariant:m,symbolsColor:"#A5A8B6",visibleDecimals:2})})]})},qe=n(9144),Xe=n(2593),$e=n(43478),Qe=n(58527),ze=n(92391),Ke=function(e){var t=e.title,n=e.value,r=e.valueUSD,o=e.children,i=e.bottomLineTitle,s=e.bottomLineComponent,l=e.gradientBorder,d=e.dataCy;return(0,k.jsx)(a.Z,{sx:function(e){return{flex:1,display:"flex",borderRadius:"6px",border:"1px solid ".concat(e.palette.divider),position:"relative","&:after":{content:"''",borderRadius:"6px",position:"absolute",top:-1,bottom:-1,left:-1,right:-1,background:l?e.palette.gradients.aaveGradient:"transparent"}}},children:(0,k.jsxs)(a.Z,{sx:function(e){return{flex:1,p:4,display:"flex",alignItems:"center",flexDirection:"column",borderRadius:"6px",background:e.palette.background.paper,position:"relative",zIndex:2}},"data-cy":d,children:[(0,k.jsxs)(a.Z,{sx:{mb:6,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,k.jsx)(c.Z,{mb:1,color:"text.secondary",children:t}),(0,k.jsx)(f.B,{value:n,visibleDecimals:2,variant:"secondary21",color:0===+n?"text.muted":"text.primary","data-cy":"amountNative"}),(0,k.jsx)(f.B,{value:r,symbol:"USD",visibleDecimals:2,variant:"secondary12",color:0===+r?"text.muted":"text.secondary",symbolsColor:0===+r?"text.muted":"text.secondary","data-cy":"amountUSD"})]}),(0,k.jsx)(a.Z,{sx:{width:"100%",mb:2},children:o}),(0,k.jsx)(ze.X,{caption:i,captionVariant:"caption",captionColor:"text.secondary",width:"100%",children:s})]})})};function Je(e){var t=function(e){return{d:Math.floor(e/86400),h:Math.floor(e%86400/3600),m:Math.floor(e%3600/60),s:Math.floor(e%60)}}(e.seconds),n=t.d,r=t.h,i=t.m,s=t.s;return(0,k.jsxs)(k.Fragment,{children:[0!==n&&(0,k.jsx)("span",{children:(0,k.jsx)(o.cC,{id:"{d}d",values:{d:n}})}),0!==r&&(0,k.jsx)("span",{children:(0,k.jsx)(o.cC,{id:"{h}h",values:{h:r}})}),0!==i&&(0,k.jsx)("span",{children:(0,k.jsx)(o.cC,{id:"{m}m",values:{m:i}})}),0!==s&&(0,k.jsx)("span",{children:(0,k.jsx)(o.cC,{id:"{s}s",values:{s:s}})})]})}var et=function(e){var t=e.onStakeAction,n=e.onStakeRewardClaimAction,r=e.onCooldownAction,l=e.onUnstakeAction,d=e.stakeTitle,x=e.stakedToken,p=e.description,m=e.headerAction,h=e.icon,b=e.stakeData,g=e.stakeUserData,y=e.ethUsdPrice,w=e.maxSlash,O=(0,i.Z)().breakpoints,C=(0,s.Z)(O.up("xsm")),A=(0,$e.p)(1),T=(null===b||void 0===b?void 0:b.stakeCooldownSeconds)||0,N=(null===g||void 0===g?void 0:g.userCooldown)||0,P=(null===b||void 0===b?void 0:b.stakeUnstakeWindow)||0,Z=A-N,E=Z<T+P,B=E&&Z>T&&Z<P+T,D=(0,u.formatEther)(Xe.O$.from((null===g||void 0===g?void 0:g.underlyingTokenUserBalance)||"0")),_=(0,u.formatEther)(Xe.O$.from((null===g||void 0===g?void 0:g.stakeTokenUserBalance)||"0").mul((null===b||void 0===b?void 0:b.stakeTokenPriceEth)||"0").div(y||"1")),I=(0,u.formatEther)(Xe.O$.from((null===g||void 0===g?void 0:g.userIncentivesToClaim)||"0").mul((null===b||void 0===b?void 0:b.rewardTokenPriceEth)||"0").div(y||"1")),U=(0,u.formatEther)((0,S.hE)((null===g||void 0===g?void 0:g.stakeTokenUserBalance)||"0").dividedBy((null===b||void 0===b?void 0:b.stakeTokenTotalSupply)||"1").multipliedBy((null===b||void 0===b?void 0:b.distributionPerSecond)||"0").multipliedBy("2592000").toFixed(0));return(0,k.jsxs)(v.Z,{sx:{p:{xs:4,xsm:6},pt:4,height:"100%"},children:[(0,k.jsxs)(a.Z,{sx:{display:{xs:"none",xsm:"flex"},alignItems:"center",mb:8},children:[(0,k.jsxs)(c.Z,{variant:"h3",children:[(0,k.jsx)(o.cC,{id:"Stake"})," ",d]}),m&&(0,k.jsx)(a.Z,{sx:{ml:3},children:m})]}),(0,k.jsxs)(a.Z,{sx:function(e){return{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",xsm:"center"},flexDirection:{xs:"column",xsm:"row"},gap:{xs:0,xsm:2},borderRadius:{xs:0,xsm:"6px"},border:{xs:"unset",xsm:"1px solid ".concat(e.palette.divider)},p:{xs:0,xsm:4},background:{xs:"unset",xsm:e.palette.background.paper},position:"relative","&:after":{content:"''",position:"absolute",bottom:0,left:"-16px",width:"calc(100% + 32px)",height:"1px",bgcolor:{xs:"divider",xsm:"transparent"}}}},children:[(0,k.jsxs)(a.Z,{sx:{display:"flex",width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,k.jsx)(j.T1,{symbol:h,sx:{fontSize:{xs:"40px",xsm:"32px"}}}),(0,k.jsx)(c.Z,{variant:C?"subheader1":"h4",ml:2,children:x}),m&&(0,k.jsx)(a.Z,{sx:{display:{xs:"block",xsm:"none"},textAlign:"right",flexGrow:1},children:m})]}),(0,k.jsxs)(a.Z,{sx:{display:{xs:"flex",xsm:"block"},width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,k.jsx)(c.Z,{variant:C?"subheader2":"description",color:C?"text.secondary":"text.primary",children:(0,k.jsx)(o.cC,{id:"Staking APR"})}),(0,k.jsx)(f.B,{value:parseFloat((null===b||void 0===b?void 0:b.stakeApy)||"0")/1e4,percent:!0,variant:"secondary14"})]}),(0,k.jsxs)(a.Z,{sx:{display:{xs:"flex",xsm:"block"},width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,k.jsx)(c.Z,{variant:C?"subheader2":"description",color:C?"text.secondary":"text.primary",children:(0,k.jsx)(o.cC,{id:"Max slashing"})}),(0,k.jsx)(f.B,{value:w,percent:!0,variant:"secondary14"})]}),(0,k.jsxs)(a.Z,{sx:{display:{xs:"flex",xsm:"block"},width:{xs:"100%",xsm:"unset"},justifyContent:"space-between",alignItems:"center",mb:{xs:3,xsm:0}},children:[(0,k.jsx)(c.Z,{variant:C?"subheader2":"description",color:C?"text.secondary":"text.primary",children:(0,k.jsx)(o.cC,{id:"Wallet Balance"})}),(0,k.jsx)(f.B,{value:D.toString()})]}),(0,k.jsx)(Se.Z,{variant:"contained",sx:{minWidth:"96px",mb:{xs:6,xsm:0}},onClick:t,disabled:0===+D,fullWidth:!C,"data-cy":"stakeBtn_".concat(x.toUpperCase()),children:(0,k.jsx)(o.cC,{id:"Stake"})})]}),(0,k.jsxs)(qe.Z,{spacing:4,direction:{xs:"column",xsm:"row"},sx:{mt:4},children:[(0,k.jsxs)(Ke,{title:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(o.cC,{id:"Staked"})," ",x]}),value:(0,u.formatEther)((null===g||void 0===g?void 0:g.stakeTokenUserBalance)||"0"),valueUSD:_,dataCy:"stakedBox_".concat(x),bottomLineTitle:(0,k.jsx)(Qe.G,{variant:"caption",text:E&&!B?(0,k.jsx)(o.cC,{id:"Cooldown time left"}):B?(0,k.jsx)(o.cC,{id:"Time left to unstake"}):(0,k.jsx)(o.cC,{id:"Cooldown period"}),children:(0,k.jsx)(k.Fragment,{children:E&&!B?(0,k.jsx)(o.cC,{id:"Time left to be able to withdraw your staked asset."}):B?(0,k.jsx)(o.cC,{id:"Time left until the withdrawal window closes."}):(0,k.jsx)(o.cC,{id:"You can only withdraw your assets from the Security Module after the cooldown period ends and the unstake window is active."})})}),bottomLineComponent:(0,k.jsx)(k.Fragment,{children:E&&!B?(0,k.jsx)(c.Z,{variant:"secondary14",sx:{display:"inline-flex",gap:1},children:(0,k.jsx)(Je,{seconds:T-Z})}):B?(0,k.jsx)(c.Z,{variant:"secondary14",sx:{display:"inline-flex",gap:1},children:(0,k.jsx)(Je,{seconds:P+T-Z})}):(0,k.jsx)(c.Z,{variant:"secondary14",children:(0,k.jsx)(Je,{seconds:T})})}),gradientBorder:B,children:[B&&(0,k.jsx)(Se.Z,{variant:"gradient",fullWidth:!0,onClick:l,"data-cy":"unstakeBtn_".concat(x),children:(0,k.jsx)(o.cC,{id:"Unstake now"})}),E&&!B&&(0,k.jsx)(Se.Z,{variant:"outlined",fullWidth:!0,disabled:!0,"data-cy":"awaitCoolDownBtn_".concat(x),children:(0,k.jsx)(o.cC,{id:"Cooling down..."})}),!E&&(0,k.jsx)(Se.Z,{variant:"outlined",fullWidth:!0,onClick:r,disabled:"0"===(null===g||void 0===g?void 0:g.stakeTokenUserBalance),"data-cy":"coolDownBtn_".concat(x),children:(0,k.jsx)(o.cC,{id:"Cooldown to unstake"})})]}),(0,k.jsx)(Ke,{title:(0,k.jsx)(o.cC,{id:"Claimable AAVE"}),value:(0,u.formatEther)((null===g||void 0===g?void 0:g.userIncentivesToClaim)||"0"),valueUSD:I,bottomLineTitle:(0,k.jsx)(o.cC,{id:"Aave per month"}),dataCy:"rewardBox_".concat(x),bottomLineComponent:(0,k.jsx)(f.B,{value:U,visibleDecimals:2,variant:"secondary14",color:0===+U?"text.disabled":"text.primary"}),children:(0,k.jsx)(Se.Z,{variant:"contained",onClick:n,fullWidth:!0,disabled:"0"===(null===g||void 0===g?void 0:g.userIncentivesToClaim),"data-cy":"claimBtn_".concat(x),children:(0,k.jsx)(o.cC,{id:"Claim AAVE"})})})]}),!!p&&p]})};function tt(){var e=(0,D.Z)(),t=e.currentAccount,n=e.loading,p=e.chainId,m=(0,b.Yh)((function(e){return[e.stakeGeneralResult,e.stakeUserResult,e.stakeDataLoading]})),v=(0,r.Z)(m,3),h=v[0],f=v[1],j=v[2];(0,b.dO)();var g=(0,Z.vR)(),y=g.openStake,w=g.openStakeCooldown,O=g.openUnstake,C=g.openStakeRewardsClaim,E=(0,i.Z)().breakpoints,S=(0,s.Z)(E.up("lg")),B=(0,x.useState)(""),_=B[0],U=B[1],L=(0,I.Mo)(p).name;(0,x.useEffect)((function(){_||U("aave")}),[S]);var R=(0,u.formatEther)(d.BigNumber.from((null===h||void 0===h?void 0:h.aave.stakeTokenTotalSupply)||"0").mul((null===h||void 0===h?void 0:h.aave.stakeTokenPriceEth)||"0").add(d.BigNumber.from((null===h||void 0===h?void 0:h.bpt.stakeTokenTotalSupply)||"0").mul((null===h||void 0===h?void 0:h.bpt.stakeTokenPriceEth)||"0")).div((null===h||void 0===h?void 0:h.usdPriceEth)||1)),W=(0,u.formatEther)(d.BigNumber.from((null===h||void 0===h?void 0:h.aave.distributionPerSecond)||"0").add((null===h||void 0===h?void 0:h.bpt.distributionPerSecond)||"0").mul("86400")),F="aave"===_;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(He,{tvl:R,stkEmission:W,loading:j}),(0,k.jsx)(T.O,{children:t?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(a.Z,{sx:{display:{xs:"flex",lg:"none"},justifyContent:{xs:"center",xsm:"flex-start"},mb:{xs:3,xsm:4}},children:(0,k.jsxs)(P.Z,{color:"primary",value:_,exclusive:!0,onChange:function(e,t){return U(t)},sx:{width:{xs:"100%",xsm:"359px"}},children:[(0,k.jsx)(N.Z,{value:"aave",disabled:"aave"===_,children:(0,k.jsx)(c.Z,{variant:"subheader1",children:(0,k.jsx)(o.cC,{id:"Stake AAVE"})})}),(0,k.jsx)(N.Z,{value:"bpt",disabled:"bpt"===_,children:(0,k.jsx)(c.Z,{variant:"subheader1",children:(0,k.jsx)(o.cC,{id:"Stake ABPT"})})})]})}),(0,k.jsxs)(l.ZP,{container:!0,spacing:4,children:[(0,k.jsx)(l.ZP,{item:!0,xs:12,lg:6,sx:{display:{xs:F?"block":"none",lg:"block"}},children:(0,k.jsx)(et,{stakeTitle:"AAVE",stakedToken:"AAVE",maxSlash:"0.3",icon:"aave",stakeData:null===h||void 0===h?void 0:h.aave,stakeUserData:null===f||void 0===f?void 0:f.aave,ethUsdPrice:null===h||void 0===h?void 0:h.usdPriceEth,onStakeAction:function(){return y("aave","AAVE")},onCooldownAction:function(){return w("aave")},onUnstakeAction:function(){return O("aave","AAVE")},onStakeRewardClaimAction:function(){return C("aave")},headerAction:(0,k.jsx)(Ee.f,{cryptoSymbol:"AAVE",networkMarketName:L})})}),(0,k.jsx)(l.ZP,{item:!0,xs:12,lg:6,sx:{display:{xs:F?"none":"block",lg:"block"}},children:(0,k.jsx)(et,{stakeTitle:"ABPT",stakedToken:"ABPT",maxSlash:"0.3",icon:"stkbpt",stakeData:null===h||void 0===h?void 0:h.bpt,stakeUserData:null===f||void 0===f?void 0:f.bpt,ethUsdPrice:null===h||void 0===h?void 0:h.usdPriceEth,onStakeAction:function(){return y("bpt","stkBPT")},onCooldownAction:function(){return w("bpt")},onUnstakeAction:function(){return O("bpt","stkBPT")},onStakeRewardClaimAction:function(){return C("bpt")},headerAction:(0,k.jsx)(Ie,{})})})]})]}):(0,k.jsx)(A,{description:(0,k.jsx)(o.cC,{id:"We couldn\u2019t detect a wallet. Connect a wallet to stake and view your balance."}),loading:n})})]})}tt.getLayout=function(e){return(0,k.jsxs)(Ze.Z,{children:[e,(0,k.jsx)(re,{}),(0,k.jsx)(he,{}),(0,k.jsx)(Pe,{}),(0,k.jsx)(ye,{})]})}},28533:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(59499),o=n(49501),i=n(75331),s=n(30120),a=n(29630),c=n(91555),l=n(85893);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e,t){return e===i.a_.mainnet?"Ethereum Mainnet":t.name},p=function(e){var t=e.chainId,n=e.wrapperSx,r=c.m[t];return(0,l.jsxs)(s.Z,{sx:u({display:"flex",alignItems:"center"},n),children:[(0,l.jsx)(a.Z,{variant:"subheader2",sx:{mr:2,color:"#C0CBF6"},children:(0,l.jsx)(o.cC,{id:"Available on"})}),(0,l.jsx)(s.Z,{sx:{height:16,width:16},children:(0,l.jsx)("img",{src:r.networkLogoPath,height:"100%",width:"100%",alt:"Ethereum Mainnet"})}),(0,l.jsx)(a.Z,{variant:"subheader2",sx:{ml:1,color:"#C0CBF6"},children:x(t,r)})]})}},57502:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/staking",function(){return n(42045)}])}},function(e){e.O(0,[249,72,429,774,888,179],(function(){return t=57502,e(e.s=t);var t}));var t=e.O();_N_E=t}]);