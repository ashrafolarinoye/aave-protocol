"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[491],{8491:function(e,t,r){r.r(t),r.d(t,{__N_SSG:function(){return Xe},default:function(){return Me}});var n=r(59499),i=r(4730),s=r(50029),o=r(87794),a=r.n(o),c=r(49501),l=r(1279),d=r(42833),x=r(84563),p=r(64232),u=r(81719),h=r(62097),j=r(61225),v=r(79072),m=r(70918),f=r(29630),g=r(30120),Z=r(91655),y=r(75084),b=r(81645),w=r(86777),O=r(90244),C=r(69417),P=r(5605),k=r(39807),V=r(93978),T=r(27484),A=r.n(T),E=r(67294),I=r(44816),S=r(72355),D=r(50811),N=r(14832),F=r(41024),_=r(68861),B=r(92391),W=r(19952),G=r(45881),Y=r(77715),R=r(40481),X=r(17667),M=r(5063),U=r(93973),H=r(74815),q=r(85893),L=function(){return(0,q.jsx)(H.f,{children:(0,q.jsx)(g.Z,{sx:{display:"flex",alignItems:"center",mb:"18px"},children:(0,q.jsx)(y.Z,{component:_.rU,href:_.Z6.governance,variant:"surface",size:"medium",color:"primary",startIcon:(0,q.jsx)(b.Z,{fontSize:"small",children:(0,q.jsx)(U.Z,{})}),children:(0,q.jsx)(c.cC,{id:"Go Back"})})})})},z=r(17674),Q=r(33181),J=r(3765),K=r(8195),$=r(77537),ee=r(84953);function te(e){var t=e.id,r=e.state,n=e.strategy,i=e.startBlock,o=(0,K.vR)().openGovVote,d=(0,$.Z)().currentAccount,x=(0,E.useState)(),p=x[0],u=x[1],h=(0,E.useState)(),j=h[0],v=h[1],m=(0,E.useState)(),g=m[0],Z=m[1],b=(0,E.useState)("0"),w=b[0],O=b[1],C=(0,ee.Yh)((function(e){return[e.getVoteOnProposal,e.getVotingPowerAt]})),P=(0,z.Z)(C,2),k=P[0],V=P[1],T=r===Q.r.Active,A=d&&g,I=d&&T&&0===Number(w),S=!g&&d&&T&&0!==Number(w),D=function(){var e=(0,s.Z)(a().mark((function e(){var r,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k({user:d,proposalId:t});case 3:r=e.sent,n=r.support,(i=r.votingPower)&&"0"!==i.toString()?(v(n),u((0,l.Fv)(i.toString(),18)),Z(!0)):Z(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error fetching vote info",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,s.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V({user:d,block:i,strategy:n});case 3:r=e.sent,O(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error fetching voting power for proposal",t);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,E.useEffect)((function(){d?(D(),N()):(v(void 0),Z(void 0),u(void 0),O("0"))}),[T,d,i]),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(f.Z,{variant:"h3",sx:{mb:8},children:(0,q.jsx)(c.cC,{id:"Your voting info"})}),d&&!g&&!T&&(0,q.jsx)(f.Z,{sx:{textAlign:"center"},color:"text.muted",children:(0,q.jsx)(c.cC,{id:"You did not participate in this proposal"})}),d&&T&&(0,q.jsx)(B.X,{caption:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(f.Z,{variant:"description",children:(0,q.jsx)(c.cC,{id:"Voting power"})}),(0,q.jsx)(f.Z,{variant:"caption",color:"text.secondary",children:"(AAVE + stkAAVE)"})]}),children:(0,q.jsx)(F.B,{value:w||0,variant:"main16",visibleDecimals:2})}),A&&(0,q.jsxs)(W.v,{severity:j?"success":"error",sx:{my:2},children:[(0,q.jsx)(f.Z,{variant:"subheader1",children:(0,q.jsx)(c.cC,{id:"You voted {0}",values:{0:j?"YAE":"NAY"}})}),(0,q.jsx)(f.Z,{variant:"caption",children:(0,q.jsx)(c.cC,{id:"With a voting power of <0/>",components:{0:(0,q.jsx)(F.B,{value:p||0,variant:"caption",visibleDecimals:2})}})})]}),I&&(0,q.jsx)(W.v,{severity:"warning",sx:{my:2},children:(0,q.jsx)(c.cC,{id:"Not enough voting power to participate in this proposal"})}),S&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(y.Z,{color:"success",variant:"contained",fullWidth:!0,onClick:function(){return o(t,!0,w)},children:(0,q.jsx)(c.cC,{id:"Vote YAE"})}),(0,q.jsx)(y.Z,{color:"error",variant:"contained",fullWidth:!0,onClick:function(){return o(t,!1,w)},sx:{mt:2},children:(0,q.jsx)(c.cC,{id:"Vote NAY"})})]}),!d&&(0,q.jsx)(J.p,{})]})}var re=r(90149),ne=r(63144),ie=r.n(ne),se=r(19201),oe=r(44731),ae=r(11288),ce=r.n(ae),le=r(16228),de=function(e){var t,r=e.compact,n=e.voter,i=n.address,s=n.ensName,o=n.proposalVotingPower,a=n.twitterAvatar,c=ce()(""!==i?i:"default"),l=o/Math.pow(10,18),d=l<1?4:l<10?3:l<1e3||l>1e6?2:l>1e5?1:0;return n.proposalVotingPower<=0?null:(0,q.jsx)(g.Z,{sx:{my:6,"&:first-of-type":{mt:0},"&:last-of-type":{mb:0}},children:(0,q.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,q.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[(0,q.jsx)(oe.Z,{src:null!==a&&void 0!==a?a:c,sx:{width:24,height:24,mr:2}}),(0,q.jsx)(_.rU,{href:"https://etherscan.io/address/".concat(i),children:(0,q.jsxs)(f.Z,{variant:"subheader1",color:"primary",sx:{display:"flex",alignItems:"center"},children:[(t=null!==s&&void 0!==s?s:i,r?t===i?(0,le.X)(t,3,3):t.length<=10?t:(0,le.X)(t,4,3):t===i?(0,le.X)(t,9,3):t.length<16?t:(0,le.X)(t,12,3)),(0,q.jsx)(b.Z,{sx:{width:14,height:14,ml:.5},children:(0,q.jsx)(x.Z,{})})]})})]}),(0,q.jsxs)(g.Z,{sx:{display:"flex",flexGrow:1,justifyContent:"space-between",alignItems:"center",maxWidth:r?82:96},children:[(0,q.jsx)(f.Z,{variant:"subheader1",color:n.vote?"success.main":"error.main",children:n.vote?"YAE":"NAY"}),(0,q.jsx)(F.B,{variant:"subheader1",color:"primary",value:l,visibleDecimals:d,roundDown:!0})]})]})})};function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue=function(e){var t=e.compact,r=void 0!==t&&t,n=e.voters,i=e.sx;return(0,q.jsx)(g.Z,{sx:pe({maxHeight:205,overflow:"hidden",overflowY:"scroll"},i),children:0===n.length?(0,q.jsx)(g.Z,{sx:{color:"text.secondary"},children:"\u2014"}):n.map((function(e){return(0,q.jsx)(E.Fragment,{children:(0,q.jsx)(de,{voter:e,compact:r})},e._id)}))})},he=r(34637),je=r(59379),ve=r(31959),me=r(74663);function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ze=function(e){var t=e.open,r=e.close,n=e.proposal,i=e.voters,s=(0,h.Z)().breakpoints,o=(0,j.Z)(s.up("md")),a=(0,E.useState)("yaes"),l=a[0],d=a[1],x={border:"1px solid",borderColor:"divider",borderRadius:1};if(!n||!i)return null;var p=(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(me.A,{yae:!0,percent:n.yaePercent,votes:n.yaeVotes,sx:ge(ge({},x),{},{px:4,py:2})}),(0,q.jsxs)(g.Z,{sx:ge(ge({},x),{},{mt:3}),children:[(0,q.jsxs)(B.X,{sx:{px:4,py:2,borderBottom:"1px solid",borderColor:"divider"},children:[(0,q.jsx)(f.Z,{variant:"subheader2",color:"text.secondary",children:(0,q.jsx)(c.cC,{id:"Addresses ({0})",values:{0:i.yaes.length}})}),(0,q.jsx)(f.Z,{variant:"subheader2",color:"text.secondary",children:(0,q.jsx)(c.cC,{id:"Votes"})})]}),(0,q.jsx)(ue,{voters:i.yaes,sx:{p:4,mb:0,maxHeight:318}})]})]}),u=(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(me.A,{percent:n.nayPercent,votes:n.nayVotes,sx:ge(ge({},x),{},{px:4,py:2})}),(0,q.jsxs)(g.Z,{sx:ge(ge({},x),{},{mt:3}),children:[(0,q.jsxs)(B.X,{sx:{px:4,py:2,borderBottom:"1px solid",borderColor:"divider"},children:[(0,q.jsx)(f.Z,{variant:"subheader2",color:"text.secondary",children:(0,q.jsx)(c.cC,{id:"Addresses ({0})",values:{0:i.nays.length}})}),(0,q.jsx)(f.Z,{variant:"subheader2",color:"text.secondary",children:(0,q.jsx)(c.cC,{id:"Votes"})})]}),(0,q.jsx)(ue,{voters:i.nays,sx:{p:4,mb:0,maxHeight:318}})]})]});return(0,q.jsxs)(ve.P,{open:t,setOpen:r,contentMaxWidth:o?800:360,children:[(0,q.jsx)(f.Z,{variant:"h2",children:(0,q.jsx)(c.cC,{id:"Votes"})}),o?(0,q.jsxs)(v.ZP,{container:!0,spacing:4,sx:{mt:4},children:[(0,q.jsx)(v.ZP,{item:!0,xs:6,children:p}),(0,q.jsx)(v.ZP,{item:!0,xs:6,children:u})]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(je.Z,{color:"primary",value:l,exclusive:!0,onChange:function(e,t){return d(t)},sx:{width:"100%",height:"44px",mt:8,mb:6},children:[(0,q.jsx)(he.Z,{value:"yaes",disabled:"yaes"===l,children:(0,q.jsx)(f.Z,{variant:"subheader1",children:(0,q.jsx)(c.cC,{id:"Voted YAE"})})}),(0,q.jsx)(he.Z,{value:"nays",disabled:"nays"===l,children:(0,q.jsx)(f.Z,{variant:"subheader1",children:(0,q.jsx)(c.cC,{id:"Voted NAY"})})})]}),"yaes"===l&&p,"nays"===l&&u]})]})};function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var we=function(e,t){return e.proposalVotingPower<t.proposalVotingPower?1:e.proposalVotingPower>t.proposalVotingPower?-1:0},Oe=function(e){var t=e.proposal,r=t.id,n=t.forVotes,i=t.againstVotes,o=(0,E.useState)(!0),l=o[0],d=o[1],x=(0,E.useState)(!1),p=x[0],u=x[1],v=(0,E.useState)(),m=v[0],Z=v[1],b=(0,E.useState)(!1),w=b[0],O=b[1],C=(0,h.Z)().breakpoints,P=(0,j.Z)(C.only("md")),k="".concat("https://aave-api-v2.aave.com","/data/proposal-top-voters"),V="?proposal=".concat(r),T=function(){var e=(0,s.Z)(a().mark((function e(){var t,n,i,s,o,c,l,x;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p&&u(!1),e.prev=1,e.next=4,ie()(k+V);case 4:if(!(t=e.sent).ok){e.next=18;break}return e.next=8,t.json();case 8:n=e.sent,i=(0,z.Z)(n,2),s=i[0],o=i[1],c=s.map((function(e){var t,n=e.votingHistory.find((function(e){return e.proposal.id===r.toString()}));return be(be({},e),{},{vote:1,proposalVotingPower:null!==(t=null===n||void 0===n?void 0:n.votingPower)&&void 0!==t?t:0})})),l=o.map((function(e){var t,n=e.votingHistory.find((function(e){return e.proposal.id===r.toString()}));return be(be({},e),{},{vote:0,proposalVotingPower:null!==(t=null===n||void 0===n?void 0:n.votingPower)&&void 0!==t?t:0})})),x={yaes:c.sort(we),nays:l.sort(we),combined:c.concat(l).sort(we)},Z(x),e.next=19;break;case 18:u(!0);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),console.error(e.t0),u(!0);case 25:d(!1);case 26:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(){return e.apply(this,arguments)}}();(0,E.useEffect)((function(){T()}),[n,i]);var A=(0,q.jsxs)(B.X,{sx:{mb:3},children:[(0,q.jsx)(f.Z,{variant:"subheader2",color:"text.secondary",children:(0,q.jsx)(c.cC,{id:"Top 10 addresses"})}),(0,q.jsx)(f.Z,{variant:"subheader2",color:"text.secondary",children:(0,q.jsx)(c.cC,{id:"Votes"})})]});return l?(0,q.jsxs)(g.Z,{sx:{mt:8,mb:12},children:[A,(0,q.jsx)(g.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,q.jsx)(re.Z,{size:24,sx:{my:4}})})]}):p?(0,q.jsxs)(g.Z,{sx:{mt:8,mb:12},children:[A,(0,q.jsx)(g.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:8},children:(0,q.jsx)(f.Z,{variant:"helperText",color:"error.main",children:(0,q.jsx)(c.cC,{id:"Failed to load proposal voters. Please refresh the page."})})})]}):m&&0!==m.combined.length?(0,q.jsxs)(g.Z,{sx:{my:8},children:[A,(0,q.jsx)(ue,{compact:P,voters:m.combined.slice(0,10),sx:{my:4,pr:2.25}}),m.combined.length>10&&(0,q.jsx)(y.Z,{variant:"outlined",fullWidth:!0,onClick:function(){O(!0)},children:(0,q.jsx)(c.cC,{id:"View all votes"})}),w&&(0,q.jsx)(Ze,{open:w,close:function(){return O(!1)},proposal:(0,se.J)(t),voters:m})]}):(0,q.jsx)(g.Z,{sx:{mt:8}})},Ce=r(88622),Pe=r(67668),ke=r(98445),Ve=r(45626),Te=r(15446),Ae=r(44304),Ee=["node"],Ie=["node"],Se=["node"],De=["node"],Ne=["node"],Fe=["node"],_e=["values"];function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ge=(0,u.ZP)("img")({display:"block",margin:"0 auto",maxWidth:"100%"}),Ye=function(e){return A().unix(e).format("D MMM YYYY, HH:mm UTC Z")},Re=(0,u.ZP)("a")({color:"inherit"}),Xe=!0;function Me(e){var t=e.proposal,r=e.ipfs,n=e.prerendered,o=e.metadataError,u=void 0!==o&&o,T=(0,E.useState)(""),G=T[0],Y=T[1],X=(0,E.useState)(t),U=X[0],H=X[1],z=(0,E.useState)(!U||!(0,ke.u)(U)),Q=z[0],J=z[1],K=(0,h.Z)(),$=K.breakpoints,ee=K.palette,re=(0,j.Z)($.up("lg")),ne=!U||!(0,ke.u)(U);function ie(){return(ie=(0,s.Z)(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Pe.M.getProposal({proposalId:U.id});case 4:return t=e.sent,t.values,r=(0,i.Z)(t,_e),e.t0=H,e.next=10,(0,se.r)(r);case 10:e.t1=e.sent,(0,e.t0)(e.t1),J(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,R.W)((function(){return ie.apply(this,arguments)}),Q?5e3:3e4,!ne,[]),(0,E.useEffect)((function(){!U&&t&&H(t),J(!1)}),[t]),(0,E.useEffect)((function(){Y(window.location.href)}),[]);var oe=U?(0,se.J)(U):{yaeVotes:0,yaePercent:0,nayPercent:0,nayVotes:0,diffReached:!1,quorumReached:!1,minQuorumVotes:0,requiredDiff:0,diff:0},ae=oe.yaeVotes,ce=oe.yaePercent,le=oe.nayPercent,de=oe.nayVotes,xe=oe.diffReached,pe=oe.quorumReached,ue=oe.requiredDiff,he=oe.minQuorumVotes,je=oe.diff,ve=!!U&&A()()>A().unix(U.expirationTimestamp);return(0,q.jsxs)(q.Fragment,{children:[r&&(0,q.jsx)(D.h,{imageUrl:"https://app.aave.com/aaveMetaLogo-min.jpg",title:r.title,description:r.shortDescription}),(0,q.jsx)(L,{}),(0,q.jsx)(Te.O,{children:(0,q.jsxs)(v.ZP,{container:!0,spacing:4,children:[(0,q.jsx)(v.ZP,{item:!0,xs:12,md:8,children:(0,q.jsxs)(m.Z,{sx:{px:6,pt:4,pb:12},"data-cy":"vote-info-body",children:[(0,q.jsx)(f.Z,{variant:"h3",children:(0,q.jsx)(c.cC,{id:"Proposal overview"})}),u?(0,q.jsx)(g.Z,{sx:{px:{md:18},pt:8},children:(0,q.jsx)(W.v,{severity:"error",children:(0,q.jsx)(c.cC,{id:"An error has occurred fetching the proposal metadata from IPFS."})})}):(0,q.jsxs)(g.Z,{sx:{px:{md:18},pt:8,wordBreak:"break-word"},children:[(0,q.jsx)(f.Z,{variant:"h2",sx:{mb:6},children:(null===r||void 0===r?void 0:r.title)||(0,q.jsx)(Z.Z,{})}),U&&r?(0,q.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,q.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center"},children:[(0,q.jsx)(g.Z,{sx:{mr:"24px",mb:{xs:"2px",sm:0}},children:(0,q.jsx)(Ce.U,{state:U.state,loading:Q})}),!Q&&(0,q.jsx)(M.G,{state:U.state,executionTime:U.executionTime,startTimestamp:U.startTimestamp,executionTimeWithGracePeriod:U.executionTimeWithGracePeriod,expirationTimestamp:U.expirationTimestamp})]}),(0,q.jsx)(g.Z,{sx:{flexGrow:1}}),(0,q.jsx)(y.Z,{component:"a",sx:{minWidth:re?"160px":""},target:"_blank",rel:"noopener",href:"".concat(Ve.d.ipfsGateway,"/").concat(r.ipfsHash),startIcon:(0,q.jsx)(b.Z,{sx:{"& path":{strokeWidth:"1"}},children:(0,q.jsx)(d.Z,{})}),children:re&&(0,q.jsx)(c.cC,{id:"Raw-Ipfs"})}),(0,q.jsx)(y.Z,{component:"a",sx:{minWidth:re?"160px":""},target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(r.title),"&url=").concat(G),startIcon:(0,q.jsx)(p.Z,{}),children:re&&(0,q.jsx)(c.cC,{id:"Share on twitter"})}),(0,q.jsx)(y.Z,{sx:{minWidth:re?"160px":""},component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://lenster.xyz/?url=".concat(G,"&text=Check out this proposal on aave governance \ud83d\udc7b\ud83d\udc7b - ").concat(r.title,"&hashtags=Aave&preview=true"),startIcon:(0,q.jsx)(Ae.M,{color:"dark"===ee.mode?ee.primary.light:ee.text.primary}),children:re&&(0,q.jsx)(c.cC,{id:"Share on Lens"})})]}):(0,q.jsx)(f.Z,{variant:"buttonL",children:(0,q.jsx)(Z.Z,{})}),r?(0,q.jsx)(I.D,{remarkPlugins:[S.Z],components:{table:function(e){e.node;var t=(0,i.Z)(e,Ee);return(0,q.jsx)(w.Z,{component:m.Z,variant:"outlined",children:(0,q.jsx)(O.Z,We(We({},t),{},{sx:{wordBreak:"normal"}}))})},tr:function(e){e.node;var t=(0,i.Z)(e,Ie);return(0,q.jsx)(C.Z,We({sx:{"&:last-child td, &:last-child th":{border:0}}},t))},td:function(e){var t=e.children,r=e.style;return(0,q.jsx)(P.Z,{style:r,children:t})},th:function(e){var t=e.children,r=e.style;return(0,q.jsx)(P.Z,{style:r,children:t})},tbody:function(e){var t=e.children;return(0,q.jsx)(k.Z,{children:t})},thead:function(e){e.node;var t=(0,i.Z)(e,Se);return(0,q.jsx)(V.Z,We({},t))},img:function(e){var t=e.src,r=e.alt;if(!t)return null;var n=/^\.\.\//.test(t)?t.replace("../","https://raw.githubusercontent.com/aave/aip/main/content/"):t;return(0,q.jsx)(Ge,{src:n,alt:r})},a:function(e){e.node;var t=(0,i.Z)(e,De);return(0,q.jsx)(Re,We({},t))},h2:function(e){e.node;var t=(0,i.Z)(e,Ne);return(0,q.jsx)(f.Z,We({variant:"subheader1",sx:{mt:6},gutterBottom:!0},t))},p:function(e){e.node;var t=(0,i.Z)(e,Fe);return(0,q.jsx)(f.Z,We({variant:"description"},t))}},children:r.description}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Z.Z,{variant:"text",sx:{my:4}}),(0,q.jsx)(Z.Z,{variant:"rectangular",height:200,sx:{my:4}}),(0,q.jsx)(Z.Z,{variant:"text",sx:{my:4}}),(0,q.jsx)(Z.Z,{variant:"rectangular",height:400,sx:{my:4}})]})]})]})}),(0,q.jsxs)(v.ZP,{item:!0,xs:12,md:4,children:[(0,q.jsx)(m.Z,{sx:{px:6,py:4,mb:2.5},children:U&&(0,q.jsx)(te,We({},U))}),(0,q.jsxs)(m.Z,{sx:{px:6,py:4,mb:2.5},children:[(0,q.jsx)(f.Z,{variant:"h3",children:(0,q.jsx)(c.cC,{id:"Voting results"})}),U?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(me.A,{yae:!0,percent:ce,votes:ae,sx:{mt:8},loading:Q}),(0,q.jsx)(me.A,{percent:le,votes:de,sx:{mt:3},loading:Q}),(0,q.jsx)(Oe,{proposal:U}),(0,q.jsx)(B.X,{caption:(0,q.jsx)(c.cC,{id:"State"}),sx:{height:48},captionVariant:"description",children:(0,q.jsxs)(g.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,q.jsx)(Ce.U,{state:U.state,loading:Q}),(0,q.jsx)(g.Z,{sx:{mt:.5},children:(0,q.jsx)(M.G,{state:U.state,startTimestamp:U.startTimestamp,executionTime:U.executionTime,expirationTimestamp:U.expirationTimestamp,executionTimeWithGracePeriod:U.executionTimeWithGracePeriod})})]})}),(0,q.jsx)(B.X,{caption:(0,q.jsx)(c.cC,{id:"Quorum"}),sx:{height:48},captionVariant:"description",children:(0,q.jsx)(N.o,{loading:Q,text:pe?(0,q.jsx)(c.cC,{id:"Reached"}):(0,q.jsx)(c.cC,{id:"Not reached"}),checked:pe,sx:{height:48},variant:"description"})}),(0,q.jsx)(B.X,{caption:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(c.cC,{id:"Current votes"}),(0,q.jsx)(f.Z,{variant:"caption",color:"text.muted",children:"Required"})]}),sx:{height:48},captionVariant:"description",children:(0,q.jsxs)(g.Z,{sx:{textAlign:"right"},children:[(0,q.jsx)(F.B,{value:ae,visibleDecimals:2,roundDown:!0,sx:{display:"block"}}),(0,q.jsx)(F.B,{variant:"caption",value:he,visibleDecimals:2,roundDown:!0,color:"text.muted"})]})}),(0,q.jsx)(B.X,{caption:(0,q.jsx)(c.cC,{id:"Differential"}),sx:{height:48},captionVariant:"description",children:(0,q.jsx)(N.o,{loading:Q,text:xe?(0,q.jsx)(c.cC,{id:"Reached"}):(0,q.jsx)(c.cC,{id:"Not reached"}),checked:xe,sx:{height:48},variant:"description"})}),(0,q.jsx)(B.X,{caption:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(c.cC,{id:"Current differential"}),(0,q.jsx)(f.Z,{variant:"caption",color:"text.muted",children:"Required"})]}),sx:{height:48},captionVariant:"description",children:(0,q.jsxs)(g.Z,{sx:{textAlign:"right"},children:[(0,q.jsx)(F.B,{value:je,visibleDecimals:2,roundDown:!0,sx:{display:"block"}}),(0,q.jsx)(F.B,{variant:"caption",value:ue,visibleDecimals:2,roundDown:!0,color:"text.muted"})]})}),(0,q.jsx)(B.X,{caption:(0,q.jsx)(c.cC,{id:"Total voting power"}),sx:{height:48},captionVariant:"description",children:(0,q.jsx)(F.B,{value:(0,l.Fv)(U.totalVotingSupply,18),visibleDecimals:0,compact:!1})})]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Z.Z,{height:28,sx:{mt:8}}),(0,q.jsx)(Z.Z,{height:28,sx:{mt:8}})]})]}),(0,q.jsxs)(m.Z,{sx:{px:6,py:4},children:[(0,q.jsx)(f.Z,{variant:"h3",sx:{mb:"22px"},children:(0,q.jsx)(c.cC,{id:"Proposal details"})}),U?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(B.X,{caption:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(c.cC,{id:"Created"}),(0,q.jsx)(f.Z,{variant:"caption",color:"text.muted",children:"Block"})]}),sx:{height:48},captionVariant:"description",children:(0,q.jsxs)(g.Z,{sx:{textAlign:"right"},children:[(0,q.jsx)(f.Z,{children:Ye(U.creationTimestamp)}),(0,q.jsx)(f.Z,{variant:"caption",color:"text.muted",children:U.proposalCreated})]})}),(0,q.jsx)(B.X,{caption:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(c.cC,{id:"Started"}),(0,q.jsx)(f.Z,{variant:"caption",color:"text.muted",children:"Block"})]}),sx:{height:48},captionVariant:"description",children:(0,q.jsxs)(g.Z,{sx:{textAlign:"right"},children:[(0,q.jsx)(f.Z,{children:Ye(U.startTimestamp)}),(0,q.jsx)(f.Z,{variant:"caption",color:"text.muted",children:U.startBlock})]})}),ve?(0,q.jsx)(B.X,{caption:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(c.cC,{id:"Ended"}),(0,q.jsx)(f.Z,{variant:"caption",color:"text.muted",children:"Block"})]}),sx:{height:48},captionVariant:"description",children:(0,q.jsxs)(g.Z,{sx:{textAlign:"right"},children:[(0,q.jsx)(f.Z,{children:Ye(U.expirationTimestamp)}),(0,q.jsx)(f.Z,{variant:"caption",color:"text.muted",children:U.endBlock})]})}):(0,q.jsx)(B.X,{caption:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(c.cC,{id:"Ends"}),(0,q.jsx)(f.Z,{variant:"caption",color:"text.muted",children:"Block"})]}),sx:{height:48},captionVariant:"description",children:(0,q.jsxs)(g.Z,{sx:{textAlign:"right"},children:[(0,q.jsx)(f.Z,{children:Ye(U.expirationTimestamp)}),(0,q.jsx)(f.Z,{variant:"caption",color:"text.muted",children:U.endBlock})]})}),U.executed&&(0,q.jsx)(B.X,{caption:(0,q.jsx)(c.cC,{id:"Executed"}),sx:{height:48},captionVariant:"description",children:(0,q.jsx)(f.Z,{children:Ye(U.executionTime)})}),(null===r||void 0===r?void 0:r.author)&&(0,q.jsx)(B.X,{caption:(0,q.jsx)(c.cC,{id:"Author"}),sx:{height:48},captionVariant:"description",children:(0,q.jsx)(f.Z,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:r.author})}),(0,q.jsxs)(g.Z,{sx:{mt:10,mb:2,display:"flex",gap:2},children:[(null===r||void 0===r?void 0:r.discussions)&&(0,q.jsx)(y.Z,{component:_.rU,target:"_blank",rel:"noopener",href:r.discussions,variant:"outlined",endIcon:(0,q.jsx)(b.Z,{children:(0,q.jsx)(x.Z,{})}),children:(0,q.jsx)(c.cC,{id:"Forum discussion"})}),n&&(0,q.jsx)(y.Z,{component:_.rU,target:"_blank",rel:"noopener",href:"https://github.com/bgd-labs/seatbelt-for-ghosts/tree/master/reports/Aave/0xEC568fffba86c094cf06b22134B23074DFE2252c/".concat(String(U.id).padStart(3,"0"),".md"),variant:"outlined",endIcon:(0,q.jsx)(b.Z,{children:(0,q.jsx)(x.Z,{})}),children:(0,q.jsx)(c.cC,{id:"Seatbelt report"})})]})]}):(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(Z.Z,{variant:"rectangular",height:600})})]})]})]})})]})}Me.getLayout=function(e){return(0,q.jsxs)(X.Z,{children:[(0,q.jsx)(Y.C,{}),e,(0,q.jsx)(G.m,{})]})}},44304:function(e,t,r){r.d(t,{M:function(){return s}});var n=r(81645),i=r(85893),s=function(e){var t=e.color;return(0,i.jsx)(n.Z,{xmlns:"http://www.w3.org/2000/svg","aria-label":"Lens",children:(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 96 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65.519 16.253c3.9-3.24 8.253-4.472 12.426-4.16 4.453.332 8.573 2.41 11.65 5.427 3.078 3.018 5.192 7.054 5.53 11.41.341 4.396-1.137 9-5.035 13.041-.357.372-.722.74-1.094 1.102-17.681 17.338-41.17 17.384-41.41 17.384-.12 0-23.683 0-41.41-17.386l-.005-.004a71.134 71.134 0 0 1-1.081-1.09l-.003-.003c-3.9-4.037-5.38-8.64-5.04-13.036.338-4.356 2.45-8.393 5.526-11.412 3.076-3.018 7.196-5.097 11.65-5.431 4.173-.313 8.526.918 12.43 4.156.42-4.994 2.606-8.881 5.78-11.554 3.385-2.85 7.796-4.24 12.152-4.24 4.357 0 8.768 1.39 12.153 4.24 3.175 2.673 5.361 6.56 5.78 11.556ZM48.395 58.7l-.001-.022h.002l-.001.022Zm-1.619 0v-.022.022Zm14.093-24.075c-.483 0-.65.685-.342 1.048a3.65 3.65 0 0 1 .875 2.372c0 2.048-1.693 3.707-3.78 3.707-2.088 0-3.78-1.66-3.78-3.707 0-.11-.146-.164-.212-.075a6.264 6.264 0 0 0-1.164 2.651c-.093.533-.535.975-1.09.975h-.307c-.724 0-1.322-.576-1.215-1.274.733-4.784 5.54-8.253 11.016-8.253 5.475 0 10.282 3.47 11.015 8.253.107.698-.49 1.274-1.215 1.274-.725 0-1.299-.58-1.456-1.268-.717-3.135-4.04-5.703-8.344-5.703Zm-33.568 3.42c0-.144-.19-.222-.28-.107a6.322 6.322 0 0 0-1.256 2.713c-.108.575-.585 1.053-1.186 1.053h-.225c-.724 0-1.322-.576-1.215-1.274.733-4.786 5.54-8.253 11.015-8.253 5.476 0 10.283 3.467 11.016 8.253.107.698-.49 1.274-1.215 1.274-.725 0-1.298-.58-1.456-1.268-.716-3.137-4.038-5.703-8.345-5.703-.39 0-.534.539-.272.822.609.658.98 1.532.98 2.49 0 2.048-1.693 3.707-3.78 3.707-2.088 0-3.78-1.66-3.78-3.707Zm24.49 8.94c.512-.5 1.303-.742 1.939-.404.636.339.877 1.125.419 1.671-1.493 1.78-3.909 2.909-6.574 2.909-2.663 0-5.085-1.117-6.58-2.91-.456-.548-.212-1.333.425-1.67.638-.336 1.428-.09 1.94.41.984.963 2.479 1.614 4.215 1.614 1.732 0 3.228-.657 4.216-1.62Z",fill:t})})})}},45881:function(e,t,r){r.d(t,{m:function(){return E}});r(67294);var n,i=r(8195),s=r(31959),o=r(49501),a=r(62097),c=r(29630),l=r(30120),d=r(75084),x=r(46930),p=r(77537),u=r(45626),h=r(84950),j=r(44304),v=r(63491),m=r(67916),f=r(93608),g=r(57824),Z=r(78944),y=r(10343),b=r(50029),w=r(87794),O=r.n(w),C=r(89291),P=r(84953),k=r(67489),V=r(85893),T=function(e){var t=e.isWrongNetwork,r=e.blocked,n=e.proposalId,i=e.support,s=(0,P.Yh)((function(e){return e.submitVote})),a=(0,p.Z)().currentAccount,c=(0,C.Q)({tryPermit:!1,handleGetTxns:function(){var e=(0,b.Z)(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s({proposalId:Number(n),user:a,support:i||!1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:r,deps:[]}),l=c.action,d=c.loadingTxns,x=c.mainTxState,u=c.requiresApproval;return(0,V.jsx)(k.B,{requiresApproval:u,blocked:r,mainTxState:x,preparingTransactions:d,handleAction:l,actionText:i?(0,V.jsx)(o.cC,{id:"VOTE YAE"}):(0,V.jsx)(o.cC,{id:"VOTE NAY"}),actionInProgressText:i?(0,V.jsx)(o.cC,{id:"VOTE YAE"}):(0,V.jsx)(o.cC,{id:"VOTE NAY"}),isWrongNetwork:t})};!function(e){e[e.NOT_ENOUGH_VOTING_POWER=0]="NOT_ENOUGH_VOTING_POWER"}(n||(n={}));var A=function(e){var t=e.proposalId,r=e.support,s=e.power,b=(0,p.Z)(),w=b.chainId,O=b.readOnlyModeAddress,C=(0,i.vR)(),P=C.gasLimit,k=C.mainTxState,A=C.txError,E=(0,x.f)(),I=E.currentNetworkConfig,S=E.currentChainId,D=(0,a.Z)().palette,N=void 0;"0"===s&&(N=n.NOT_ENOUGH_VOTING_POWER);var F=I.isFork&&I.underlyingChainId===u.d.chainId?S:u.d.chainId,_=w!==F,B=(0,h.Mo)(F);return A&&A.blocking?(0,V.jsx)(v.D,{txError:A}):k.success?(0,V.jsx)(f.R,{customAction:(0,V.jsx)(l.Z,{mt:5,children:(0,V.jsx)(d.Z,{component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://lenster.xyz/?url=".concat(window.location.href,"&text=","I just voted on the latest active proposal on aave governance","&hashtags=Aave&preview=true"),startIcon:(0,V.jsx)(j.M,{color:"dark"===D.mode?D.primary.light:D.text.primary}),children:(0,V.jsx)(o.cC,{id:"Share on Lens"})})}),customText:(0,V.jsx)(o.cC,{id:"Thank you for voting!!"})}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Z.E,{title:"Governance vote"}),_&&!O&&(0,V.jsx)(y.I,{networkName:B.name,chainId:F}),void 0!==N&&(0,V.jsx)(c.Z,{variant:"helperText",color:"red",children:N===n.NOT_ENOUGH_VOTING_POWER?(0,V.jsx)(c.Z,{children:(0,V.jsx)(o.cC,{id:"No voting power"})}):null}),(0,V.jsx)(g.m6,{gasLimit:P,children:(0,V.jsx)(g.oD,{description:(0,V.jsx)(o.cC,{id:"Voting power"}),value:s})}),A&&(0,V.jsx)(m.Q,{txError:A}),(0,V.jsx)(T,{proposalId:t,support:r,isWrongNetwork:_,blocked:void 0!==N})]})},E=function(){var e=(0,i.vR)(),t=e.type,r=e.close,n=e.args;return(0,V.jsx)(s.P,{open:t===i.w8.GovVote,setOpen:r,children:(null===n||void 0===n?void 0:n.power)&&(null===n||void 0===n?void 0:n.proposalId)&&void 0!==(null===n||void 0===n?void 0:n.support)&&(0,V.jsx)(A,{proposalId:n.proposalId,support:n.support,power:n.power})})}}}]);